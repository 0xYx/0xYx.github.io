<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Kapuseru</title>
    <link>https://www.yingxinsong.com/</link>
    <description>カプセル</description>
    <generator>Hugo 0.152.2 &amp; FixIt v0.4.0-alpha.3-20251128065536-6d00e42b</generator>
    <language>zh-cn</language>
    <lastBuildDate>Thu, 11 Dec 2025 19:33:28 +0800</lastBuildDate>
    <atom:link href="https://www.yingxinsong.com/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>我的投资理念</title>
      <link>https://www.yingxinsong.com/post/my_investment_thesis_at_2025/</link>
      <pubDate>Thu, 11 Dec 2025 19:33:28 +0800</pubDate>
      <guid>https://www.yingxinsong.com/post/my_investment_thesis_at_2025/</guid>
      <description>&lt;h3 class=&#34;heading-element&#34; id=&#34;前言&#34;&gt;&lt;span&gt;前言&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e5%89%8d%e8%a8%80&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;我想就我今年研究的公司分享我的投资理念，对于每一个公司的内容分享，应该尽量做到简短、精确，并且足以表达我的思考，以及采取的行为背后的原因。我将从以下几个方面来阐述：公司的主业、护城河，管理层的一致性，为什么我认为它以当前的价格被低估，以及我的计划。&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;稳定分红的公司信邦控股&#34;&gt;&lt;span&gt;稳定分红的公司：信邦控股&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e7%a8%b3%e5%ae%9a%e5%88%86%e7%ba%a2%e7%9a%84%e5%85%ac%e5%8f%b8%e4%bf%a1%e9%82%a6%e6%8e%a7%e8%82%a1&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;信邦控股是一家位于中国惠州的做汽车零部件电镀OEM的公司，他的主要客户是福特、特斯拉等头部汽车厂商，每年的订单量约100亿左右。今年下半年的一段时间，我始终想不明白未来现金流折现的这个概念，以及，什么样的公司能够满足可以计算出未来现金流折现呢？当我在尝试“翻石头”时，我发现了信邦控股这家股息率大于10%的公司，而进一步查看财报，我发现信邦控股就是这样一家满足我的各项需求的公司，甚至符合彼得林奇的要求，这是一家跟有毒物质有关且十分无聊的公司：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;公司的主营业务稳定，始终专注在汽车零部件电镀，关于电镀的工艺我并不理解，只知道他们使用的是六价铬，这种可能污染环境并致癌的物质。我想起我曾经看过的茱莉亚罗伯茨出演的电影《永不妥协》，电影里的居民被六价铬导致的疾病给我留下了很深的印象。换句话说，这类有毒物质的处理需要非常专业的牌照以及处理流程，并且由于可能对当地环境造成污染，不少地市是拒绝这类企业的。此外，汽车零部件单个的毛利是很低的，需要形成一定的规模，才能有收入。在过去多年的挤压下，目前信邦已经占据了高端市场30%的份额（网络数据）。而它的竞争对手也在历史纷纷倒下，所以信邦可以说是这个细分领域的龙头。&lt;/li&gt;&#xA;&lt;li&gt;信邦控股的财报的开头总是以管理层分析开始，管理层往往会纵观国际风云，从宏观到微观徐徐展开整个公司的战略与展望。给我一种如临其境的感受。这种老牌又扎实的作风，我相信与信邦的稳定的管理层不无关系。信邦的管理层是由三个哈工大毕业的同学组成的，自2025年到现在已有20年。&lt;/li&gt;&#xA;&lt;li&gt;为什么这个公司适合做现金流折现模型，这是因为我在翻阅年报的过程中，发现它每年都有披露未来五年未完成的订单数，比如它在2018年披露未来五年的订单是86亿，而到了2025年，它的未来五年订单金额虽然相比上一年有所下降，但是一方面这可以看做信邦的良率提升，消化了更多的产能。另一方面，我猜测也是因为汽车的生产需要提前定制零部件，所以厂商需要提前锁定订单。那么也就是说，如果信邦能够维持这个订单金额，我们是完全可以预估出在保守情况下未来的现金流的。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;hr&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;一、历史数据 + 未来5年预测&lt;/th&gt;&#xA;          &lt;th&gt;&lt;/th&gt;&#xA;          &lt;th&gt;&lt;/th&gt;&#xA;          &lt;th&gt;&lt;/th&gt;&#xA;          &lt;th&gt;&lt;/th&gt;&#xA;          &lt;th&gt;&lt;/th&gt;&#xA;          &lt;th&gt;&lt;/th&gt;&#xA;          &lt;th&gt;&lt;/th&gt;&#xA;          &lt;th&gt;&lt;/th&gt;&#xA;          &lt;th&gt;&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;年份&lt;/td&gt;&#xA;          &lt;td&gt;产能(百万㎡)&lt;/td&gt;&#xA;          &lt;td&gt;良品率&lt;/td&gt;&#xA;          &lt;td&gt;订单(百万)&lt;/td&gt;&#xA;          &lt;td&gt;营收(百万)&lt;/td&gt;&#xA;          &lt;td&gt;净利率&lt;/td&gt;&#xA;          &lt;td&gt;净利润(百万)&lt;/td&gt;&#xA;          &lt;td&gt;FCF(百万)&lt;/td&gt;&#xA;          &lt;td&gt;折现因子&lt;/td&gt;&#xA;          &lt;td&gt;折现后FCF&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;2018&lt;/td&gt;&#xA;          &lt;td&gt;3.54&lt;/td&gt;&#xA;          &lt;td&gt;87.6%&lt;/td&gt;&#xA;          &lt;td&gt;8600&lt;/td&gt;&#xA;          &lt;td&gt;2049.94&lt;/td&gt;&#xA;          &lt;td&gt;19.26%&lt;/td&gt;&#xA;          &lt;td&gt;394.82&lt;/td&gt;&#xA;          &lt;td&gt;-197&lt;/td&gt;&#xA;          &lt;td&gt;历史&lt;/td&gt;&#xA;          &lt;td&gt;-&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;2019&lt;/td&gt;&#xA;          &lt;td&gt;3.76&lt;/td&gt;&#xA;          &lt;td&gt;88.6%&lt;/td&gt;&#xA;          &lt;td&gt;9500&lt;/td&gt;&#xA;          &lt;td&gt;2130.75&lt;/td&gt;&#xA;          &lt;td&gt;9.64%&lt;/td&gt;&#xA;          &lt;td&gt;205.45&lt;/td&gt;&#xA;          &lt;td&gt;77.9&lt;/td&gt;&#xA;          &lt;td&gt;历史&lt;/td&gt;&#xA;          &lt;td&gt;-&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;2020&lt;/td&gt;&#xA;          &lt;td&gt;4.19&lt;/td&gt;&#xA;          &lt;td&gt;89.5%&lt;/td&gt;&#xA;          &lt;td&gt;10500&lt;/td&gt;&#xA;          &lt;td&gt;2069.37&lt;/td&gt;&#xA;          &lt;td&gt;16.06%&lt;/td&gt;&#xA;          &lt;td&gt;332.43&lt;/td&gt;&#xA;          &lt;td&gt;254.75&lt;/td&gt;&#xA;          &lt;td&gt;历史&lt;/td&gt;&#xA;          &lt;td&gt;-&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;2021&lt;/td&gt;&#xA;          &lt;td&gt;3.8&lt;/td&gt;&#xA;          &lt;td&gt;89.0%&lt;/td&gt;&#xA;          &lt;td&gt;10500&lt;/td&gt;&#xA;          &lt;td&gt;2312.47&lt;/td&gt;&#xA;          &lt;td&gt;9.31%&lt;/td&gt;&#xA;          &lt;td&gt;214.24&lt;/td&gt;&#xA;          &lt;td&gt;-288.38&lt;/td&gt;&#xA;          &lt;td&gt;历史&lt;/td&gt;&#xA;          &lt;td&gt;-&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;2022&lt;/td&gt;&#xA;          &lt;td&gt;3.5&lt;/td&gt;&#xA;          &lt;td&gt;88.5%&lt;/td&gt;&#xA;          &lt;td&gt;10600&lt;/td&gt;&#xA;          &lt;td&gt;2882.87&lt;/td&gt;&#xA;          &lt;td&gt;14.96%&lt;/td&gt;&#xA;          &lt;td&gt;431.3&lt;/td&gt;&#xA;          &lt;td&gt;282.09&lt;/td&gt;&#xA;          &lt;td&gt;历史&lt;/td&gt;&#xA;          &lt;td&gt;-&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;2023&lt;/td&gt;&#xA;          &lt;td&gt;3.6&lt;/td&gt;&#xA;          &lt;td&gt;93.5%&lt;/td&gt;&#xA;          &lt;td&gt;10600&lt;/td&gt;&#xA;          &lt;td&gt;3102.92&lt;/td&gt;&#xA;          &lt;td&gt;19.57%&lt;/td&gt;&#xA;          &lt;td&gt;607.39&lt;/td&gt;&#xA;          &lt;td&gt;635.47&lt;/td&gt;&#xA;          &lt;td&gt;历史&lt;/td&gt;&#xA;          &lt;td&gt;-&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;2024&lt;/td&gt;&#xA;          &lt;td&gt;3.6&lt;/td&gt;&#xA;          &lt;td&gt;94.1%&lt;/td&gt;&#xA;          &lt;td&gt;10100&lt;/td&gt;&#xA;          &lt;td&gt;3207.65&lt;/td&gt;&#xA;          &lt;td&gt;17.57%&lt;/td&gt;&#xA;          &lt;td&gt;563.45&lt;/td&gt;&#xA;          &lt;td&gt;570.14&lt;/td&gt;&#xA;          &lt;td&gt;历史&lt;/td&gt;&#xA;          &lt;td&gt;-&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;2025&lt;/td&gt;&#xA;          &lt;td&gt;3.60&lt;/td&gt;&#xA;          &lt;td&gt;94.5%&lt;/td&gt;&#xA;          &lt;td&gt;10000&lt;/td&gt;&#xA;          &lt;td&gt;3000.00&lt;/td&gt;&#xA;          &lt;td&gt;17.4%&lt;/td&gt;&#xA;          &lt;td&gt;522.00&lt;/td&gt;&#xA;          &lt;td&gt;469.80&lt;/td&gt;&#xA;          &lt;td&gt;1.09&lt;/td&gt;&#xA;          &lt;td&gt;433.00&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;2026&lt;/td&gt;&#xA;          &lt;td&gt;3.60&lt;/td&gt;&#xA;          &lt;td&gt;94.5%&lt;/td&gt;&#xA;          &lt;td&gt;10000&lt;/td&gt;&#xA;          &lt;td&gt;3000.00&lt;/td&gt;&#xA;          &lt;td&gt;17.4%&lt;/td&gt;&#xA;          &lt;td&gt;522.00&lt;/td&gt;&#xA;          &lt;td&gt;469.80&lt;/td&gt;&#xA;          &lt;td&gt;1.18&lt;/td&gt;&#xA;          &lt;td&gt;399.07&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;2027&lt;/td&gt;&#xA;          &lt;td&gt;3.60&lt;/td&gt;&#xA;          &lt;td&gt;94.5%&lt;/td&gt;&#xA;          &lt;td&gt;10000&lt;/td&gt;&#xA;          &lt;td&gt;3000.00&lt;/td&gt;&#xA;          &lt;td&gt;17.4%&lt;/td&gt;&#xA;          &lt;td&gt;522.00&lt;/td&gt;&#xA;          &lt;td&gt;469.80&lt;/td&gt;&#xA;          &lt;td&gt;1.28&lt;/td&gt;&#xA;          &lt;td&gt;367.81&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;2028&lt;/td&gt;&#xA;          &lt;td&gt;3.60&lt;/td&gt;&#xA;          &lt;td&gt;94.5%&lt;/td&gt;&#xA;          &lt;td&gt;10000&lt;/td&gt;&#xA;          &lt;td&gt;3000.00&lt;/td&gt;&#xA;          &lt;td&gt;17.4%&lt;/td&gt;&#xA;          &lt;td&gt;522.00&lt;/td&gt;&#xA;          &lt;td&gt;469.80&lt;/td&gt;&#xA;          &lt;td&gt;1.39&lt;/td&gt;&#xA;          &lt;td&gt;339.00&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;2029&lt;/td&gt;&#xA;          &lt;td&gt;3.60&lt;/td&gt;&#xA;          &lt;td&gt;94.5%&lt;/td&gt;&#xA;          &lt;td&gt;10000&lt;/td&gt;&#xA;          &lt;td&gt;3000.00&lt;/td&gt;&#xA;          &lt;td&gt;17.4%&lt;/td&gt;&#xA;          &lt;td&gt;522.00&lt;/td&gt;&#xA;          &lt;td&gt;469.80&lt;/td&gt;&#xA;          &lt;td&gt;1.50&lt;/td&gt;&#xA;          &lt;td&gt;312.44&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;5年预测期现值合计&lt;/td&gt;&#xA;          &lt;td&gt;1851.31&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;2019年中国与欧洲市场销售下滑，带动了净利润下降&lt;/li&gt;&#xA;&lt;li&gt;2021年有更复杂的情况:&#xA;&lt;ul&gt;&#xA;&lt;li&gt;海运成本增加&lt;/li&gt;&#xA;&lt;li&gt;墨西哥工厂亏损&lt;/li&gt;&#xA;&lt;li&gt;汇率波动&lt;/li&gt;&#xA;&lt;li&gt;子公司导致的所得税增加&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;hr&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;项目&lt;/th&gt;&#xA;          &lt;th&gt;金额&lt;/th&gt;&#xA;          &lt;th&gt;说明&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;终值(2030+永续)&lt;/td&gt;&#xA;          &lt;td&gt;5527.06&lt;/td&gt;&#xA;          &lt;td&gt;百万人民币&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;终值现值&lt;/td&gt;&#xA;          &lt;td&gt;3675.75&lt;/td&gt;&#xA;          &lt;td&gt;百万人民币&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;企业价值(人民币)&lt;/td&gt;&#xA;          &lt;td&gt;5527.06&lt;/td&gt;&#xA;          &lt;td&gt;百万&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;企业价值(港元)&lt;/td&gt;&#xA;          &lt;td&gt;6079.76&lt;/td&gt;&#xA;          &lt;td&gt;百万 (汇率1.1)&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;加：现金&lt;/td&gt;&#xA;          &lt;td&gt;1031.22&lt;/td&gt;&#xA;          &lt;td&gt;百万港元&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;减：债务&lt;/td&gt;&#xA;          &lt;td&gt;54.74&lt;/td&gt;&#xA;          &lt;td&gt;百万港元&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;股权价值&lt;/td&gt;&#xA;          &lt;td&gt;7056.24&lt;/td&gt;&#xA;          &lt;td&gt;百万港元&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;流通股数&lt;/td&gt;&#xA;          &lt;td&gt;1003.13&lt;/td&gt;&#xA;          &lt;td&gt;百万股&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;每股内在价值&lt;/td&gt;&#xA;          &lt;td&gt;7.03&lt;/td&gt;&#xA;          &lt;td&gt;港元&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;hr&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;三、5年持有期投资回报分析&lt;/th&gt;&#xA;          &lt;th&gt;&lt;/th&gt;&#xA;          &lt;th&gt;&lt;/th&gt;&#xA;          &lt;th&gt;&lt;/th&gt;&#xA;          &lt;th&gt;&lt;/th&gt;&#xA;          &lt;th&gt;&lt;/th&gt;&#xA;          &lt;th&gt;&lt;/th&gt;&#xA;          &lt;th&gt;&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;预期年度股息/股&lt;/td&gt;&#xA;          &lt;td&gt;0.401&lt;/td&gt;&#xA;          &lt;td&gt;港元 (假设70%分红率)&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;5年累计股息/股&lt;/td&gt;&#xA;          &lt;td&gt;2.003&lt;/td&gt;&#xA;          &lt;td&gt;港元&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;当前价格&lt;/td&gt;&#xA;          &lt;td&gt;3.7&lt;/td&gt;&#xA;          &lt;td&gt;港元&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;退出情景&lt;/td&gt;&#xA;          &lt;td&gt;概率&lt;/td&gt;&#xA;          &lt;td&gt;PE&lt;/td&gt;&#xA;          &lt;td&gt;卖出价&lt;/td&gt;&#xA;          &lt;td&gt;现金流入&lt;/td&gt;&#xA;          &lt;td&gt;净收益&lt;/td&gt;&#xA;          &lt;td&gt;总回报率&lt;/td&gt;&#xA;          &lt;td&gt;年化回报&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;悲观&lt;/td&gt;&#xA;          &lt;td&gt;30%&lt;/td&gt;&#xA;          &lt;td&gt;5x&lt;/td&gt;&#xA;          &lt;td&gt;2.86&lt;/td&gt;&#xA;          &lt;td&gt;4.87&lt;/td&gt;&#xA;          &lt;td&gt;1.17&lt;/td&gt;&#xA;          &lt;td&gt;31.5%&lt;/td&gt;&#xA;          &lt;td&gt;5.6%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;中性&lt;/td&gt;&#xA;          &lt;td&gt;50%&lt;/td&gt;&#xA;          &lt;td&gt;8x&lt;/td&gt;&#xA;          &lt;td&gt;4.58&lt;/td&gt;&#xA;          &lt;td&gt;6.58&lt;/td&gt;&#xA;          &lt;td&gt;2.88&lt;/td&gt;&#xA;          &lt;td&gt;77.9%&lt;/td&gt;&#xA;          &lt;td&gt;12.2%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;乐观&lt;/td&gt;&#xA;          &lt;td&gt;20%&lt;/td&gt;&#xA;          &lt;td&gt;10x&lt;/td&gt;&#xA;          &lt;td&gt;5.72&lt;/td&gt;&#xA;          &lt;td&gt;7.73&lt;/td&gt;&#xA;          &lt;td&gt;4.03&lt;/td&gt;&#xA;          &lt;td&gt;108.9%&lt;/td&gt;&#xA;          &lt;td&gt;15.9%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;期望年化回报&lt;/td&gt;&#xA;          &lt;td&gt;11.0%&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;上面这三张表分别预测了未来五年的现金流折现模型，以及内在价值与投资回报。如果按照 3.7 元的当前价格买入，按照 7.03 的内在价值计算，相当于约五折买入这家公司的一部分，并预期年化回报为 11.0%，如果每次将股息再投资，还可以产生约 2 个点的复利收益，从这个角度，我认为这家公司被市场低估。那么他的风险有哪些呢？&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;正如信邦的财报开篇所描述的那样，他将始终受到汽车周期的大环境影响，未来的订单数可能不及预期；&lt;/li&gt;&#xA;&lt;li&gt;由于他主要客户是美国，所以他不可避免的受到关税以及相关制裁的影响。尽管管理层非常有远见的早在2018 年以前就在墨西哥建厂，以及后续在马来西亚建厂；&lt;/li&gt;&#xA;&lt;li&gt;汽车装饰会随着汽车设计风格的变化而变化，无法确定未来的汽车是否仍需要使用电镀技术，或者是否有其他的技术会取而代之。在这方面，信邦也持续投入到了研发创新上，我相信他会紧跟时代的步伐；&lt;/li&gt;&#xA;&lt;li&gt;六价铬是一种有毒物质，这种污染环境的技术不确定是否会有进一步的环保要求，导致信邦需要进一步提升相关技术与厂房，从而产生额外支出；&lt;/li&gt;&#xA;&lt;li&gt;信邦的分红不确定是否可以持续，虽然过去多年有稳定的分红记录，目前有约 70% 的股份在公司的管理层手中，有 5% 的股份在香港某著名投资人手中，分红按理来说对管理层是有益的；&lt;/li&gt;&#xA;&lt;li&gt;过去多年都是一个小盘股，成交量极小，买入后可能难以退出，不过资金量少反而是优势。&lt;/li&gt;&#xA;&lt;li&gt;港股通的准入门槛是 50 亿元，信邦还没有资格进入港股通的俱乐部，但是假如管理层选择不分红，而是回购股份，促使市值超过 50 亿，这是否是一个潜在的催化剂呢？这个不算是风险，算是一个思考。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;综合来说，我认为这是一家不错的公司，我计划把信邦作为我的稳定收息组合的一部分，并且按照持仓五年并持续复购的策略来验证我的策略是否正确。对于信邦，我并不期望高于 12% 的年化回报率。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;被市场抛弃的公司kspi&#34;&gt;&lt;span&gt;被市场抛弃的公司：KSPI&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e8%a2%ab%e5%b8%82%e5%9c%ba%e6%8a%9b%e5%bc%83%e7%9a%84%e5%85%ac%e5%8f%b8kspi&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;Kaspi 是一家哈萨克斯坦的互联网公司，他的主营业务是为1400万的哈萨克斯坦人提供一个囊括了电商、支付、公共事业缴费、招聘、旅游、演唱会等多样服务的超级App，就像国内的微信+淘宝+携程+BOSS直聘+大麦。&lt;/p&gt;&#xA;&lt;p&gt;对于Kaspi，我的看法是他是一家具备网络效应并且对用户有超级粘性的公司，而反过来，用户粘性构成了Kaspi的护城河。Kaspi的CEO &lt;strong&gt;Mikheil Lomtadze&lt;/strong&gt;是格鲁吉亚人，他于2007年加入了Kaspi的前身 —— 一家金融科技公司，目前已经在Kaspi有近20年的管理经验，这符合我对管理层的稳定性与一致性的要求。在给哈佛商学院的课程中，他介绍了Kaspi以用户满意度驱动的一种简单而又行之有效的产品研发模式：&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;1.&amp;ensp;收集用户需求；&#xA;2.&amp;ensp;以最小代价实现可用版本；&#xA;3.&amp;ensp;市场验证，回收用户满意度，符合标准的留下，不符合的去掉。&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;这解释了Kaspi是如何构建出具备如此多功能的超级App。哈萨克斯坦的人均受教育程度并不算太高，查看Kaspi给工程师的薪资，折合人民币只有8K-20K左右。整个App的质量与体验都称不上好，大量的web体验加载速度慢。但是这并不影响哈萨克斯坦人民对生活数字化与便利化的需求与渴望，Kaspi已经像微信一样，成为了哈萨克斯坦的水和电。&lt;/p&gt;&#xA;&lt;p&gt;那么Kaspi在市场上的表现如何？由于流动性差，价格已经从最高点139.5美金下跌45%。对比在东南亚的超级App Grab:&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;Ticker&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;Name&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;NTM TEV/REV&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;NTM TEV/EBITDA&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;NTM P/E&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;NTM MC/FCF&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;Last Price&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;Market Cap&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;GRAB&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;Grab Holdings Limited&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;4.10x&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;25.55x&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;58.99x&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;33.81x&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;US$5.15&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;US$21.05B&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;KSPI&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;Joint Stock Company Kaspi.kz&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;2.19x&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;5.58x&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;5.98x&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;5.82x&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;US$76.67&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;US$14.62B&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;p&gt;可以看出，同样是新兴市场，市场给出了不公平的定价。除了流动性的问题之外，Kaspi还有汇率不稳定，以及地域风险问题，这是Kaspi被低估的原因。首先来说汇率风险，Kaspi的主营业务在哈萨克斯坦，所以他赚的货币以坚戈为主，今年收购了土耳其电商公司后，也会有少量土耳其的收入占比。由于国内的高通胀态势，哈萨克斯坦的坚戈对美元已经在近几年贬值了约35%，而且还有进一步的贬值态势，这对于美元的投资者并不友好。在地域风险问题上，哈萨克斯坦历史一直都与俄罗斯有较深的绑定关系，作为一个内陆多边国家，哈萨克斯坦既与俄罗斯相邻，也与中国相邻，处理好这种地域政治问题是一大考验。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;汇率问题&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Kaspi是一家平台型的公司，他的毛利率与净利率都相对比较稳定，只要他的业务增速能够大于汇率贬值速度，那么就是是可以考虑的。美元对坚戈的汇率2024年1月是1:449 ， 而2025年12月为1:515，也就是说贬值了14%，那么这两年Kaspi的营收增速呢？从下图可以看出，没有低于过25%。从我的角度上来看，汇率的风险可以pass。&lt;/p&gt;&#xA;&lt;img src=&#34;https://raw.githubusercontent.com/0xYx/image/master/uPic/kaspi.jpg&#34; alt=&#34;kspi&#34; style=&#34;zoom:50%;&#34; /&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;&lt;strong&gt;地域问题&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;俄乌战争导致俄罗斯相邻的国家都不免蒙上一层可能被入侵的阴影。那么，哈萨克斯坦在这方面是否也具备极大的风险呢？首先从我的理解来说，俄乌战争中俄罗斯主要侵占的领土为乌克兰的顿巴斯地区以及克里米亚半岛这两个原本亲俄的地区。在研究哈萨克斯坦这个国家的时候，有几个发现：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;哈萨克斯坦曾经受蒙古帝国的统治，被成吉思汗赐名为金帐汗国&lt;/li&gt;&#xA;&lt;li&gt;在19世纪被俄罗斯帝国统治，也由于饥荒等原因，人口只剩下不足35%的哈萨克斯坦族人，境内大部分是俄罗斯人&lt;/li&gt;&#xA;&lt;li&gt;柏林墙导致了一部分德国人留在了哈萨克斯坦，而在柏林墙拆掉后，大部分的德国人回到了自己的祖国&lt;/li&gt;&#xA;&lt;li&gt;苏联解体前仍有大部分的俄罗斯人，但是解体后这部分俄罗斯人也回到了自己的祖国，目前仍剩下不足15%的俄罗斯族&lt;/li&gt;&#xA;&lt;li&gt;由于国家鼓励生育，目前哈萨克族人占整个国家70%以上，40%以上在25岁以下，是老龄化最不严重的国家之一&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;那么对比俄乌战争的问题可以发现区别是什么呢？&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;哈萨克斯坦的去俄罗斯化是一个渐进的过程，选择留下来的俄罗斯人与在中国的哈萨克族人一样，是作为哈萨克斯坦的一个民族而存在。乌克兰的俄罗斯人曾在过去多次想要独立&lt;/li&gt;&#xA;&lt;li&gt;哈萨克斯坦与俄罗斯之间保持着良好的贸易与文化交流，这是对双方都有利&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;从我的角度上来看，经历过曾经的中概退市事件，我认为这类政治风险的问题可以pass。&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;&lt;strong&gt;我的行动与预期回报&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;总体来看，虽然对于Kaspi来说，2000万的人口上限似乎就是这个超级App的极限，但是由于平台的用户粘性极高，并且非常年轻化，Kaspi每添加一项新功能，都是在为整个平台增加内在价值，我并不担忧人口上限导致的瓶颈，反而需要思考的是，如果一个公司的GMV占据了整过国家GDP的1%以上，是否会带来监管的问题？管理层在最近一次的财报会议上，给出了下一个季度良好的业绩指引，一亿美金的回购，以及下一年尽快恢复由于收购土耳其电商平台导致暂停的回购。我认为目前的安全边际较高，7倍pe考虑到上述两个风险已经是合理的价格。我选择在7pe买入，持仓时间预期为3年，并预期不低于20%的年化回报。&lt;/p&gt;&#xA;&lt;p&gt;Kaspi是一家我认为在我能力圈范围内的公司，这体现在我可以比较好的理解他的产品形态，以及他们做的每件事的目的与动机，也可以理解这里面的研发产出成本与回报。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;困境反转型公司诺和诺德&#34;&gt;&lt;span&gt;困境反转型公司：诺和诺德&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e5%9b%b0%e5%a2%83%e5%8f%8d%e8%bd%ac%e5%9e%8b%e5%85%ac%e5%8f%b8%e8%af%ba%e5%92%8c%e8%af%ba%e5%be%b7&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;诺和诺德是一家有百年历史的医疗公司，它的主营业务是针对糖尿病等代谢病，生产并销售胰岛素以及相关医疗产品。诺和诺德是一家在我的能力圈范围之外的公司。对于这样一家公司，我认为我无法真正的看懂（比如到底什么是司美格鲁肽，它的作用与机制？），而只能在他的价格从最高点下跌70%后，去寻找与市场共识的分歧点。由于与礼来近一年的竞争中失利，所以我把他归类为第一个我研究的困境反转型公司。&lt;/p&gt;&#xA;&lt;p&gt;为什么我会研究这样一家公司，这其实也与我自己本身息息相关。自从去年检测到血糖超标之后，我一直都在控糖，也顺便的了解了一下关于糖尿病，胰岛素等相关的知识。在胰岛素被发现之间，一型糖尿病曾是不治之症，直到1921年，科学家才从狗的胰腺中提取出胰岛素并用于治疗。在此之前，人们甚至需要用挨饿的方式来治疗。诺和诺德的前身是两家公司，直到1989年，两家公司才合并到一起。合并后的诺和诺德，分为了诺和诺德基金会 —— 拥有大多数的投票权并旨在为人类慢性病做贡献，以及诺和诺德公司，负责胰岛素的生产、血友病以及部分罕见病的医药研发与销售。对于诺和诺德的全部历史是很精彩的，Acquired有一集专门有讲述：&lt;a href=&#34;https://www.acquired.fm/episodes/novo-nordisk-ozempic&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;Novo Nordisk (Ozempic) Season 14, Episode 1&lt;/a&gt;。&lt;/p&gt;&#xA;&lt;p&gt;诺和诺德的竞争对手有不少，但是主要竞争对手可以归结为两类：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;具备GLP-1自研实力的公司，比如礼来，或者是中国的仿制药公司 （GLP-1在中国的专利会在2027年失效）&lt;/li&gt;&#xA;&lt;li&gt;不具备GLP-1自研实力的公司，但是可以通过复合药方混合仿制药给到用户更便宜的价格，比如Hims&amp;amp;Hers就是这样一家D2C的医疗平台，在诺和诺德一期治疗高达1000多刀的时候，Hims&amp;amp;Hers为患者提供费用少得多的方案&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://raw.githubusercontent.com/0xYx/image/master/uPic/AgAABWa2VkWS2jBnquZJepldoy7PAGxZ.png&#39; alt=&#34;AgAABWa2VkWS2jBnquZJepldoy7PAGxZ&#34;&gt;&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;礼来在2025年Q3的财报上放出了这张图，用来表示在与诺和诺德的市场竞争份额上，礼来后来居上的优势&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;诺和诺德的股价与估值，已经回到了GLP-1药物推向市场之前的时候了，整个市场对它的定价，我认为是包含了上述的悲观态势，并按照未来礼来占领全部减肥药市场来看的。那么事实会是这样吗？&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;我咨询过医生朋友，由于Wegovy 与 Zepbound 的适应症不一样，医生是需要按照患者的情况来具体使用，需要考虑合并症状的副作用，也就是说，并非二选一；&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;礼来放出的这张图可以说是别有用心，如果看最右边，会发现在Sep-25这个周期，2100张药方中，医生开出了1200张礼来的处方药，900张诺和诺德的处方药。但是如果把坐标转移到左侧呢？这个时候可以发现，诺和诺德的处方量在礼来上方，如果按照当前的Y轴来看，应该是诺和诺德1200张，礼来900张。慢着，这样总数不也是2100张吗？灰色的处方量曲线就不能是一个直线上升的状态。所以，假设总处方量1200张是对的，再把诺和诺德跟礼来的市占率对调，就会发现去年的sep-23，诺和诺德应该是1200x0.57=684张，而礼来是 1200x0.43=516张：&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;公司&lt;/th&gt;&#xA;          &lt;th&gt;2024-sep-23&lt;/th&gt;&#xA;          &lt;th&gt;2025-sep-25&lt;/th&gt;&#xA;          &lt;th&gt;增长&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;礼来&lt;/td&gt;&#xA;          &lt;td&gt;516&lt;/td&gt;&#xA;          &lt;td&gt;1200&lt;/td&gt;&#xA;          &lt;td&gt;132%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;诺和诺德&lt;/td&gt;&#xA;          &lt;td&gt;684&lt;/td&gt;&#xA;          &lt;td&gt;900&lt;/td&gt;&#xA;          &lt;td&gt;31%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;总处方量&lt;/td&gt;&#xA;          &lt;td&gt;1200&lt;/td&gt;&#xA;          &lt;td&gt;2100&lt;/td&gt;&#xA;          &lt;td&gt;75%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;p&gt;所以，可以说由于礼来的进入，诺和诺德的增速变慢了，但是并不是业务就下滑了，难道35%增长就不叫增长了吗？&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;自1990年以来，由于对糖分的过分摄入，患有糖尿病，肥胖问题等慢性病的人群就一直在增加，这是一个TAM数千亿的大市场，一定不会只有一个玩家。人要想保持身材，控制体重，就要对抗惰性，惰性是最难克服的人性之一，GLP-1的诞生，天生就站在了惰性的这一边，谁胜谁负，无需多言。&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;对于困境翻转型公司，最好的买入时机应该是在困境反转发生之前，并且，困境反转需要有催化剂才能生效，对于诺和诺德来说，目前的催化剂有：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;更换了CEO，新CEO更专注于拓展市场，董事会更换了7位董事，具体影响未知；&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;砍掉了不必要的管线，以及9000名员工，缩减了支出；&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;与Trump政府达成协议，以199-299美元出售减肥药，礼来也一样，这会扩大市场规模；&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;美国的药物销售分成渠道非常复杂，在以往诺和诺德需要给与渠道商大量的分成以获得渠道销量。同样的药品在美国与加拿大可以相差五倍，可以参考&lt;a href=&#34;https://www.drugchannels.net/2019/03/new-2019-economic-report-on-us.html&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;这篇文章&lt;/a&gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;口服药会相比礼来提前获得FDA的批准，预计会在12月底宣布上市时间（文章写完的这一天已经上市），而口服药相比注射药能够降低患者的心理成本。&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;礼来也有口服药，两家口服药的药效也将会影响到消费者于医生的决策&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;总的来说，我看到了新CEO上线后一定的优化效果。那么对比一下两边的估值呢？&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;Ticker&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;NTM TEV/REV&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;NTM TEV/EBITDA&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;NTM P/E&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;NTM MC/FCF&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;Last Price&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;Mean Analyst Target&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;Market Cap&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;a href=&#34;https://app.tikr.com/stock/about?cid=323452&amp;amp;tid=20224168&amp;amp;ref=e0mt87&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;&lt;strong&gt;NOVO B&lt;/strong&gt;&lt;/a&gt;&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;4.46x&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;9.67x&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;12.32x&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;21.71x&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;US$47.74&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;US$61.80&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;US$212.14B&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;a href=&#34;https://app.tikr.com/stock/about?cid=285467&amp;amp;tid=2626794&amp;amp;ref=e0mt87&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;&lt;strong&gt;LLY&lt;/strong&gt;&lt;/a&gt;&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;13.36x&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;24.41x&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;33.76x&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;59.47x&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;US$1,056.88&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;US$1,093.22&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;US$946.31B&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;h5 class=&#34;heading-element&#34; id=&#34;我的行动与预期回报&#34;&gt;&lt;span&gt;我的行动与预期回报&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e6%88%91%e7%9a%84%e8%a1%8c%e5%8a%a8%e4%b8%8e%e9%a2%84%e6%9c%9f%e5%9b%9e%e6%8a%a5&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h5&gt;&lt;p&gt;可以看出，LLY从各个方面来说都比NVO要更贵，我把自己想象成LLY 的CEO，如果此刻这个时候，巴菲特问我，如果你想让这个市场上的哪个公司消失，我猜测他会说是诺和诺德。基于以上的演绎（实际上也做过DCF估值，但是我觉得意义不大），我计划在40-50的区间逐渐建仓NVO，并且计划持有2年。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;一流的企业文化与ceotencent--pop-mart&#34;&gt;&lt;span&gt;一流的企业文化与CEO：Tencent &amp;amp; POP MART&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%b8%80%e6%b5%81%e7%9a%84%e4%bc%81%e4%b8%9a%e6%96%87%e5%8c%96%e4%b8%8eceotencent--pop-mart&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;腾讯集团是一家平台型互联网公司，旗下的产品囊括了即时通信、支付、游戏、广告等多个领域。泡泡玛特是一家艺术品销售公司，它通过整合潮玩IP的设计到销售的全链路，为终端用户提供了一种celebrate everyday的独特体验。在阅读了《因为独特》这本书之后，我决定把这两家公司放到一起。不仅是因为王宁在被采访过程中多次提到腾讯，也因为我认为腾讯在某种程度上，跟泡泡玛特的商业模式可能是一样的。&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;泡泡玛特是一个打造潮玩IP的平台，它通过多年的深耕，保证了头部的IP有极大的概率在他的平台诞生；&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;腾讯是一个打造互联网产品矩阵的平台，它通过多年的深耕，保证了他的服务能触达普通民众的方方面面；&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;泡泡玛特每个IP之间相互独立运营&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;腾讯每款产品之间相互独立运营&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Molly曾经是泡泡玛特的当家产品，而后Labubu爆火，接棒了Molly的热度。但是Molly也依然保持长青；&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;王者荣耀曾经是腾讯的当家游戏，而后和平精英爆火，接棒了王者荣耀的热度。后面又来了DNF，后面有来了三角洲。但是王者荣耀依然保持长青；&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;提到泡泡玛特，很少有人知道它的CEO叫王宁；&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;提到腾讯，很少有人知道它的CEO叫马化腾（现在知道人多了），换一个，提到微信，很少有人知道它的创造者叫张小龙；&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;泡泡玛特对项目具备耐心，王宁愿意在乐园项目上等个几年出结果也没问题，泡泡玛特不喜欢放卫星；&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;腾讯对项目具备耐心，对失败容忍度高，同一个人在一个业务做不下去了可以换一个业务继续做，腾讯不喜欢放卫星；&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;对比一下阿里巴巴，我认为他不是平台型企业，从结果上来看，优酷土豆、高德地图、饿了么都不是阿里巴巴内部孕育的，是从外部收购的。要让被收购的企业与母公司的员工保持一样的企业文化与认同感是困难的。从最近的闪购大战，阿里即将投入3000亿到AI来看，阿里巴巴也喜欢高举高打，放卫星。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;所以在我眼里，虽然社交通信、游戏IP，只是腾讯护城河的一半。而另一半则是来自于腾讯独特的管理文化，与能够孕育如此多优秀产品的能力。从竞争对手上来看，目前腾讯的主要竞争对手是今日头条，尤其是今年可以看出，腾讯新闻，腾讯视频，QQ音乐等几大产品，他们的份额分别被今日头条的头条、红果短剧、汽水音乐所蚕食。站在今年的节点，我没有办法看到终章。只是我自己内心不希望头条这种抢夺注意力的产品能获胜。&lt;/p&gt;&#xA;&lt;p&gt;对于泡泡玛特，目前还无法理解他的护城河是什么，只是单纯在研究王宁既往的采访文稿与视频的过程中有一种较为熟悉的感觉，从而对泡泡玛特产生了一定好感与信任度。&lt;/p&gt;&#xA;&lt;h5 class=&#34;heading-element&#34; id=&#34;我的行动与预期回报-1&#34;&gt;&lt;span&gt;我的行动与预期回报&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e6%88%91%e7%9a%84%e8%a1%8c%e5%8a%a8%e4%b8%8e%e9%a2%84%e6%9c%9f%e5%9b%9e%e6%8a%a5-1&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h5&gt;&lt;p&gt;腾讯作为一家平台型公司，拥有众多业务，我的能力不足以估算腾讯的未来现金流。所以，我只能从企业文化的角度来思考，持有腾讯，以一种对多年一起共事的伙伴的信任，是对腾讯文化与价值观 —— 一切以用户价值为依归的认同。腾讯今年的价格从412港币涨到600多港币，由于我已经有一定仓位，所以我的计划是在价格到达700以前保持不动。而泡泡玛特是一个新加入观察列表的公司，这是一家全新的企业，虽然已经成立了十年，但是市场上仍然对它有大量的非议与偏见。我喜欢这样的非共识，会在我认为价格低于内在价值时买入。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;地上的烟屁股奈雪的茶&#34;&gt;&lt;span&gt;地上的烟屁股：奈雪的茶&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e5%9c%b0%e4%b8%8a%e7%9a%84%e7%83%9f%e5%b1%81%e8%82%a1%e5%a5%88%e9%9b%aa%e7%9a%84%e8%8c%b6&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;奈雪的茶是一家做茶饮的消费品公司，它的主营业务是在全国范围内开设门店并销售自己研发的果茶、奶茶、轻饮食、以及欧包类的产品。奈雪的茶是一家一眼就能看出价格低于内在价值的公司，从公司的财务报表来看，现金部分加短期投资有28亿，而公司的市值只有18亿，pb 仅 0.43。这也是一家连续多个季度亏损的公司，从上市开始就跌个不停。对于这样一家公司，似乎还是不碰为妙。但是我还是对它做了一些研究，虽然在好生意，好公司，好价格三个维度，三个都不一定跟它有太大的关系。&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;项目&lt;/th&gt;&#xA;          &lt;th&gt;2025&lt;/th&gt;&#xA;          &lt;th&gt;%&lt;/th&gt;&#xA;          &lt;th&gt;2024&lt;/th&gt;&#xA;          &lt;th&gt;%&lt;/th&gt;&#xA;          &lt;th&gt;同比&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;收 益&lt;/td&gt;&#xA;          &lt;td&gt;2,177,632&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;2,544,352&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;其他收入&lt;/td&gt;&#xA;          &lt;td&gt;89,872&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;95,615&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;材料成本&lt;/td&gt;&#xA;          &lt;td&gt;-743,628&lt;/td&gt;&#xA;          &lt;td&gt;31.25%&lt;/td&gt;&#xA;          &lt;td&gt;-932,967&lt;/td&gt;&#xA;          &lt;td&gt;31.04%&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;員工成本&lt;/td&gt;&#xA;          &lt;td&gt;-648,811&lt;/td&gt;&#xA;          &lt;td&gt;27.26%&lt;/td&gt;&#xA;          &lt;td&gt;-746,680&lt;/td&gt;&#xA;          &lt;td&gt;24.84%&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;&lt;strong&gt;使用權資產折舊&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;strong&gt;-145,560&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;strong&gt;6.12%&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;strong&gt;-233,753&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;strong&gt;7.78%&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;&lt;strong&gt;其他租金及相關開支&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;strong&gt;-112,771&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;strong&gt;4.74%&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;strong&gt;-140,393&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;strong&gt;4.67%&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;&lt;strong&gt;其他資產的折舊及攤銷&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;strong&gt;-145,204&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;strong&gt;6.10%&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;strong&gt;-174,394&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;strong&gt;5.80%&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;廣告及推廣開支&lt;/td&gt;&#xA;          &lt;td&gt;-93,969&lt;/td&gt;&#xA;          &lt;td&gt;3.95%&lt;/td&gt;&#xA;          &lt;td&gt;-112,670&lt;/td&gt;&#xA;          &lt;td&gt;3.75%&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;配送服務費&lt;/td&gt;&#xA;          &lt;td&gt;-200,666&lt;/td&gt;&#xA;          &lt;td&gt;8.43%&lt;/td&gt;&#xA;          &lt;td&gt;-170,097&lt;/td&gt;&#xA;          &lt;td&gt;5.66%&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;水電開支&lt;/td&gt;&#xA;          &lt;td&gt;-58,539&lt;/td&gt;&#xA;          &lt;td&gt;2.46%&lt;/td&gt;&#xA;          &lt;td&gt;-76,405&lt;/td&gt;&#xA;          &lt;td&gt;2.54%&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;物流及倉儲費&lt;/td&gt;&#xA;          &lt;td&gt;-58,614&lt;/td&gt;&#xA;          &lt;td&gt;2.46%&lt;/td&gt;&#xA;          &lt;td&gt;-80,077&lt;/td&gt;&#xA;          &lt;td&gt;2.66%&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;其他開支&lt;/td&gt;&#xA;          &lt;td&gt;-116,067&lt;/td&gt;&#xA;          &lt;td&gt;4.88%&lt;/td&gt;&#xA;          &lt;td&gt;-248,423&lt;/td&gt;&#xA;          &lt;td&gt;8.27%&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;其他虧損淨額&lt;/td&gt;&#xA;          &lt;td&gt;-21,854&lt;/td&gt;&#xA;          &lt;td&gt;0.92%&lt;/td&gt;&#xA;          &lt;td&gt;-19,324&lt;/td&gt;&#xA;          &lt;td&gt;0.64%&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;融資成本&lt;/td&gt;&#xA;          &lt;td&gt;-25,768&lt;/td&gt;&#xA;          &lt;td&gt;1.08%&lt;/td&gt;&#xA;          &lt;td&gt;-35,111&lt;/td&gt;&#xA;          &lt;td&gt;1.17%&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;應佔聯營公司虧損&lt;/td&gt;&#xA;          &lt;td&gt;-8,402&lt;/td&gt;&#xA;          &lt;td&gt;0.35%&lt;/td&gt;&#xA;          &lt;td&gt;-35,285&lt;/td&gt;&#xA;          &lt;td&gt;1.17%&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;收入&lt;/th&gt;&#xA;          &lt;th&gt;2,267,504&lt;/th&gt;&#xA;          &lt;th&gt;&lt;/th&gt;&#xA;          &lt;th&gt;2,639,967&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;开支&lt;/td&gt;&#xA;          &lt;td&gt;-2,379,853&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;-3,005,579&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;亏损&lt;/td&gt;&#xA;          &lt;td&gt;-112,349&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;-365,612&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;p&gt;从财报上来看，奈雪的生意模式并不难懂。从盈利部分来看，主要是销售奶茶赚的钱。而从支出部分来看，主要是开设实体店面所需要的员工成本、配送成本、广告成本。店铺的成本在财报中分别拆成了几项使用權資產折舊、其他租金及相關開支、其他資產的折舊及攤銷：&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;使用權資產折舊指本集團租賃的折舊費用。使用權資產折舊使用直線法於開始日&#xA;期至使用權資產可使用年期結束或租賃期結束之較早者確認。&#xA;於報告期間，本集團使用權資產折舊為人民幣145.6百萬元，佔該期間內本集團總&#xA;收益的6.7%（截至2024年6月30日止六個月：人民幣233.8百萬元，佔該期間內本集&#xA;團總收益的9.2%），本 集 團 使 用 權 資 產 折 舊 及 其 佔 總 收 益 比 例 下 降 主 要 是 由 於(i)&#xA;我們對奈雪的茶 部分直營門店的優化帶來的門店租金減少；及(ii)奈雪的茶 直 營&#xA;門店數量較2024年同期減少。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;其他租金及相關開支主要包括：(i)租賃期為十二個月或以內的短期租賃及低價值&#xA;資產租賃；及(ii)受限於若干特定事件或狀況的可變租賃付款。&#xA;於報告期間，本集團其他租金及相關開支為人民幣112.8百萬元，佔該期間內本集&#xA;團總收益的5.2%（截至2024年6月30日止六個月：人民幣140.4百萬元，佔該期間內&#xA;本集團總收益的5.5%），本 集 團 其 他 租 金 及 相 關 開 支 佔 總 收 益 比 例 與2024年同期&#xA;相比基本維持穩定。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;其他資產的折舊及攤銷指物業及設備的折舊費用以及租賃物業裝修的折舊費用。&lt;/p&gt;&#xA;&lt;p&gt;於報告期間，本集團其他資產的折舊及攤銷為人民幣145.2百萬元，佔該期間內本&#xA;集團總收益的6.7%（截至2024年6月30日止六個月：人民幣174.4百萬元，佔該期間&#xA;內本集團總收益的6.9%），本 集 團 其 他 資 產 的 折 舊 及 攤 銷 佔 總 收 益 比 例 與2024年&#xA;同期相比基本維持穩定。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;我对奈雪的预期是他可以扭亏为赢，并且价格恢复到与现金价值差不多的水平。所以我分析了一下奈雪亏损的原因：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;大店模式租金高，在以往奶茶单价高，销量好的时候，这个成本与收入可以打平。但是由于现在众多玩家入局，消费者选择变多，销量下滑导致入不敷出。&lt;/li&gt;&#xA;&lt;li&gt;果茶的成本高，奈雪主打的是应季果茶，水果原料相比其他奶茶店铺比如霸王茶姬等，原材料成本相应就更高。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;对此，奈雪的主要解法就是大店拆小店，减少员工数量。对于这个事情我的体感很明显，一个是我公司楼下的奈雪是一个很好的样本，他们早在半年之前就把面积减少到原来的一半。另一个是在深圳海岸城曾经开着一个最大的奈雪旗舰店，在最近也关闭了，改成了一个稍小的旗舰店。所以从上面那个表格才可以看出2025年的亏损大幅减少，说明这个决策是正确有效果的。并且我觉得一定程度上也体现了管理层的决心。&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://raw.githubusercontent.com/0xYx/image/master/uPic/IMG_1104.jpeg&#39; alt=&#34;IMG_1104&#34;&gt;&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;原本奈雪的门店改为了爷爷不泡茶，面积缩小了2/3&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://raw.githubusercontent.com/0xYx/image/master/uPic/IMG_1106.jpeg&#39; alt=&#34;IMG_1106&#34;&gt;&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;门店内部也不大，相比原来更紧凑，店员在柜台前面忙碌&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;我自己不喜欢奈雪的果茶的味道，为了调研我试过几款都不喜欢。但是我身边却有三个朋友是奈雪的死忠粉，基本上喝奶茶只点奈雪。他们都觉得奈雪的原料更好。这一点也跟报表中虽然其他的成本下降了，但是原料成本并没有什么变化相呼应。我的看法是，奈雪果茶的基本盘还是在的，并不是说所有人都要追求极致的性价比，喝最便宜的蜜雪冰城，奈雪坚持这个果茶，轻饮食赛道，大概率可以扭亏为盈。&lt;/p&gt;&#xA;&lt;p&gt;楼下这家店我每次吃完饭都会经过顺便看看它当天的营业额怎么样，奈雪的大屏幕上会展示堂食的号码，如果是 1150，说明是 150 杯，前面的 1 只是占位符。楼下这家店到下午 5-7 点钟每天的营业额是 155 杯左右浮动，说明还是比较稳定。最近它出了一款新产品 —— 霸气车厘子，那天我发现数字变成了 1215，但是这两天又回到了 150 上下。我去尝试了一下发现了几件事情：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;这个新品还是不符合我的口味，我觉得不好喝&lt;/li&gt;&#xA;&lt;li&gt;奈雪原来的打包袋是用的保温隔热袋，这次店员给我的是普通的环保塑料袋&lt;/li&gt;&#xA;&lt;li&gt;店员希望我能给他这一单一个好评&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;对这几件事情我有几个解读：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;新品的研发还是围绕果茶，但是手剥 xx 的这个方式，似乎是在说你看我多辛苦，所以我值这个钱，但是不好喝是事实&lt;/li&gt;&#xA;&lt;li&gt;不从原料上降本，那么就从其他的地方降本&lt;/li&gt;&#xA;&lt;li&gt;压力由上至下传导，一线员工的压力变大&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;这几个点不影响对扭亏为盈大的基本面的判断，只能辅助说明也许管理者确实没什么更好的招了。&lt;/p&gt;&#xA;&lt;h5 class=&#34;heading-element&#34; id=&#34;我的预期&#34;&gt;&lt;span&gt;我的预期&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e6%88%91%e7%9a%84%e9%a2%84%e6%9c%9f&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h5&gt;&lt;p&gt;投入不超过0.1%的仓位验证想法，并且按照其内在价值1.8元来计算，在回归到与现金价值一致时卖出，约70%。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;aka-本分拼多多&#34;&gt;&lt;span&gt;AKA 本分：拼多多&lt;/span&gt;&#xA;  &lt;a href=&#34;#aka-%e6%9c%ac%e5%88%86%e6%8b%bc%e5%a4%9a%e5%a4%9a&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;拼多多是一家中国的电商公司，它通过收集终端需求来反推供应链升级，从而实现对用户端营造低价的心智模型，占领市场。&lt;/p&gt;&#xA;&lt;p&gt;这个公司一看就很有吸引力，到什么程度呢？就像你想投资一块地。这块地本身就是块宝地，你投一百块进去，每年就能净赚三十块回来。并且这块地自己还在扩张面积，地里还埋着你买价三分之一的黄金，顺手再送你一张能中大奖的乐透券。那问题是什么，这块地的主人是个很自大的人，虽然在他的经营下一直在赚钱，但是一不给你看账，二还要经常恐吓你这地的收成不稳定，很快就亏钱了。三还要说自己是个本分人，只会打理这块地，其他一概不会。&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://raw.githubusercontent.com/0xYx/image/master/uPic/1fc4716aabe87e08dec162fa30ee22ad.jpg&#39; alt=&#34;1fc4716aabe87e08dec162fa30ee22ad&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;这TM就是拼多多。&lt;/p&gt;&#xA;&lt;p&gt;对于拼多多不需要太精确的评估就能发现它是被低估的，比如可以去掉他的现金部分595 亿美金，然后按照他的业务不再增长，剩下的 1000 亿美金，按照它每年的利润 1000 亿人民币，汇率 7.3，7.3年回收成本，年化 13%。所以我看到的大部分资料，重点其实都放在讨论拼多多的商业模式，拼多多的极致效率，拼多多的本分这些上面了。&lt;/p&gt;&#xA;&lt;h5 class=&#34;heading-element&#34; id=&#34;商业模式&#34;&gt;&lt;span&gt;商业模式&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e5%95%86%e4%b8%9a%e6%a8%a1%e5%bc%8f&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h5&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;《2018-06 把“资本主义”倒过来》&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;比方说，有一千个人在夏天的时候就想到在冬天的时候要买一件某种样子的羽绒&lt;/p&gt;&#xA;&lt;p&gt;衣，他们一起写了一个联名的订单给到一个生产厂商，并愿意按去年的价格出 10%&lt;/p&gt;&#xA;&lt;p&gt;的订金。这种情况下，很有可能工厂是愿意给他们 30%的折扣的。因为工厂从他&lt;/p&gt;&#xA;&lt;p&gt;们的联名订单里获得了一个工厂原来不具有的一种需求的确定性。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;黄铮说 Cosco + Disney 是拼多多的商业模式，我觉得这只是一个比喻，上面这句话就是这个模式的大白话。由这句话可以推论出哪些行为呢？简单想一下可以归为通过拼团等方式给到供给端的确定性以及通过降价来获取消费端确定性，而拼多多就是中间人，他收取居间费用：&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;怎么给供给端确定性&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;拼团活动，越多人拼越低价，但是要你先报名，如果你可以拉到更多人参加，那你可以返现&lt;/li&gt;&#xA;&lt;li&gt;收集用户搜索行为，把多个用户搜索相同特征的商品聚类起来，然后告诉商家你可以生产这个特征的商品&lt;/li&gt;&#xA;&lt;li&gt;给用户推荐不同的商品，并找出不同人群浏览量高的那部分，针对这部分的商品做特定降价&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;这三点对拼多多来说都不是难事，但是对淘宝或者京东却不简单。虽然淘宝跟京东可以对单个商品推一样的活动，但是由于历史原因与理念不同，整个系统不是以获取确定性来去设计的，那么就会存在相当多的冗余。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;怎么给消费端确定性&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;拼多多作为一个终端销售渠道平台，虽然它并不从消费者手中直接赚取利润，但是没有消费者，也就没有了交易。如果把拼多多也看成上文中的工厂，那么拼多多也需要确定性，平台获取确定性的思路主要是建立消费者的心智，这一点在拼多多层面，主要是建立消费者的低价心智。无论是百亿补贴还是千亿补贴，我认为都可以归类为平台需要这个确定性的一个表现。与补贴这种玩法类似的商业模式其实有不少，比如网赚，比如广告会员，其实都可以看作为通过给消费者让利从而让平台获利。&lt;/p&gt;&#xA;&lt;p&gt;自然界中的猎豹是顶级的捕食者，它的一切都是为速度而生，包括流线型身体、强壮有力的长腿、超大肺活量和心血管、柔韧的脊椎、不能收缩的爪子以及长尾巴的平衡作用。打开拼多多的App，可以看出它很简单，很粗暴，但是一切都是为了获取确定性。这种能力，构筑了它极深的护城河，我认为往后看十年，拼多多是能够活下来，甚至活的很好的。&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://raw.githubusercontent.com/0xYx/image/master/uPic/image-20251223125923199.png&#39; alt=&#34;image-20251223125923199&#34;&gt;&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;拼多多怎么知道研发多空间早餐锅是有空间的？&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h5 class=&#34;heading-element&#34; id=&#34;企业文化&#34;&gt;&lt;span&gt;企业文化&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%bc%81%e4%b8%9a%e6%96%87%e5%8c%96&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h5&gt;&lt;p&gt;现在市场上对他的看法：财报数据不透明，管理层回答问题含糊其辞，套话连篇，账上数千亿现金，却从不分红，不回购。砍一刀，仅退款，等等这些操作本分吗？这个公司的管理层是不是有问题，有较长的一段时间我也在想这个事情。我觉得这些问题都很难回答，我不认识黄铮，没见过这个人。&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;2018-06 招股书致股东&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;拼多多价值观核心是“本分”。本分这个词英文比较难翻译，大致意思是说“坚守自己的本职”，在我们这里有几层意思。&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;要诚信，并成为值得信任的人&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;要尽自己的本职，无论别人在做什么&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;隔绝外力，回归初心，专注于做好自己应当做的&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;不赚人便宜，即便我们能够&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;出现问题，首先求责于己&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;对于拼多多管理层来说，本分意味着专注于为消费者创造价值。我们可能不被理解，但我们总是出于善意，不作恶。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;所以什么是本分，招股书上说的挺明白，本分就是坚守本职，做自己该做的事。所以我不担心拼多多不会去分红，不去回购的问题，钱要不然就拿去扩大生产，要不然就拿来股东回报，这也是一种本分。那回过头来看拼多多财报会上，陈磊跟赵佳臻的发言，是否也是本分的一种表现呢？：）&lt;/p&gt;&#xA;&lt;h5 class=&#34;heading-element&#34; id=&#34;我的预期-1&#34;&gt;&lt;span&gt;我的预期&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e6%88%91%e7%9a%84%e9%a2%84%e6%9c%9f-1&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h5&gt;&lt;p&gt;预期逐渐加到30%仓位，如果机会好加到50%，并预期15%左右的年化回报。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;其他公司&#34;&gt;&lt;span&gt;其他公司&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e5%85%b6%e4%bb%96%e5%85%ac%e5%8f%b8&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;今年还有一些买入又卖出的公司，比如VRT、CRWV、NVDA、FUTU，这些公司虽然赚了钱，但是我却没有花太多时间去研究，是凭着消息，判断，宏观叙事等逻辑买入的，有点像是一种彩票性质，但是本质还是那个问题，在我的能力圈范围之外。&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;投入5%翻倍也只是盈利5%&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;还有一家公司是我深入研究但是没有研究明白，就是Google，虽然盈利但持仓不多。我相信Google会是AI时代当之无愧的引领者，OpenAI虽然模型能力可以做到很强，但是谷歌把持着安卓、Chrome、搜索引擎这些C端入口，这些生态就是强大的护城河，而OpenAI的能力还不够在短暂的时间就把整个C端的体验带入下一个世代，那么最终就只能被Gemini后来居上。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;我的投资理念&#34;&gt;&lt;span&gt;我的投资理念&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e6%88%91%e7%9a%84%e6%8a%95%e8%b5%84%e7%90%86%e5%bf%b5&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;信邦、腾讯、奈雪是香港上市的内地公司，KSPI是美国上市的哈萨克斯坦公司，NVO是美国上市的丹麦公司，拼多多是美国上市的中国公司。总结今年研究的公司，他们呈现出一种跨地域，跨市场，流动性差的特征。这并不算是我主动筛选的结果，但是反过来想，这也可能是我目前的投资理念导向的结果，即 —— 寻找主流市场忽视的价值与非共识。&lt;/p&gt;&#xA;</description>
    </item>
    <item>
      <title>琵琶湖✅</title>
      <link>https://www.yingxinsong.com/post/lake_biwa_fishing/</link>
      <pubDate>Fri, 11 Oct 2024 16:06:08 +0800</pubDate>
      <guid>https://www.yingxinsong.com/post/lake_biwa_fishing/</guid>
      <description>&lt;p&gt;清晨五点半，我坐在一台装满钓具的小van里，挡风玻璃的前方，依稀看到一只死去的动物尸体。&lt;/p&gt;&#xA;&lt;p&gt;“what&amp;rsquo;s that？” 我问导钓。&lt;/p&gt;&#xA;&lt;p&gt;&amp;ldquo;ラクーン&amp;rdquo; 导钓想了半天不知道英文怎么说，最后说了一句日语。&lt;/p&gt;&#xA;&lt;p&gt;我凭着仅有的日文知识，又联想了一下英文，最后想到，也许他说的是浣熊。这是我在琵琶湖钓鲈鱼的第三天了，我还是没有钓到理想中的大鱼。这一刻我的身体极度疲惫，但是心情是又期待又兴奋。&lt;/p&gt;&#xA;&lt;p&gt;时间拨回到两天前，我跟两个朋友从中国飞到日本，我们先从大阪入境，然后再乘坐JR线到达守山市，最后再从守山乘坐公交到达了琵琶湖旁边的万豪酒店，入住下来。琵琶湖位于整个日本的中央，是一个面积非常大的淡水湖，从天上往下看，就像是一个琵琶，故名琵琶湖。自古以来，琵琶湖对周边的渔民都是非常重要的，从70年代以来，鲈鱼作为一种外来物种，被放到了琵琶湖。由于没有什么天敌，所以鲈鱼可以长的非常大，到目前为止，世界上最大的鲈鱼就是在琵琶湖发现的，长达70多厘米。而我们此行的目的，就是钓一条巨大的鲈鱼。&lt;/p&gt;&#xA;&lt;p&gt;导钓是我提前联系好的，有着非常丰富的钓鱼经验的田中先生。他身材不高，皮肤黝黑，待人和善。田中先生的英文不是很好，我只能勉强用蹩脚的日语跟他交流。每次船停下来，我就问他&lt;/p&gt;&#xA;&lt;p&gt;&amp;ldquo;ここ？&amp;rdquo; 这里？&lt;/p&gt;&#xA;&lt;p&gt;&amp;ldquo;yes&amp;rdquo; 是的。&lt;/p&gt;&#xA;&lt;p&gt;都尽力了。&lt;/p&gt;&#xA;&lt;p&gt;第一天的田中先生建议我们先买好午餐，因为他计划带我们去琵琶湖的北部，离我们住的地方要远一些。今天主要用了一个水面饵，neko，还有drop shot, 水面系我们三个人中只有我尝试了，但是没有反应。neko跟 drop shot 都各有咬口，一天下来中了十几条鱼。最大的一条有30多厘米。琵琶湖的环境优美，田中先生带我们去的几个地方，都有着非常漂亮的风景。印象最深的是最北边的一个岛屿，水清澈见底，岛上似乎有成千上万只鸟在树上飞起落下，真的是仙境一样的地方。&lt;/p&gt;&#xA;&lt;p&gt;在操作方法上，drop shot主要依靠抛到结构处，然后从远端用很慢的动作逐渐收回，动作越慢越好。当遇到结构处时，还可以停一下，比如3-5s，让鱼放下警惕，放心咬饵。田中先生对饵的护理非常的精细，不但给面条虫加了胶圈，还在插铅处涂上胶水，避免插铅损伤饵或者被甩出去。跟同伴交流，他们都觉得，我们之前使用假饵还是太浪费了。&lt;/p&gt;&#xA;&lt;p&gt;第二天，时间相对来说要宽裕一些，我们计划在南湖寻找大鱼，我没想到，这一天是如此的艰难。首先第一个问题是浪大，另外我的运气也欠缺了一点。这一天主要是使用自由钓组，这也是我第一次使用这种钓组。田中先生首先找到饵鱼群/有结构的地方，然后让我们对着这个方向抛投，举例大概有20米左右。当饵入水之后，我需要等到饵完全沉底。然后用非常慢的手法逐渐把饵往回拖，当遇到障碍的时候，等待。接下来就是关键点，如果感受到了鱼的咬口，则需要打开线杯，让线5s，大力刺鱼。&lt;/p&gt;&#xA;&lt;p&gt;上午同伴就给我们开了一个好头，他中了一条52cm的大鱼，然后，上午就结束了。田中先生中间带着我们去了一些小鱼点，我钓到两条小鱼，但是由于我们更希望钓到大鱼，于是就又回到了早上同伴中鱼的点。刚回去没多久，同伴又中了一条接近50cm的大鱼，这让我们都很兴奋，然后下午就结束了，一口没有。&lt;/p&gt;&#xA;&lt;p&gt;原计划两天的钓行也结束了。&lt;/p&gt;&#xA;&lt;p&gt;我们回到了昨天去吃猪排饭的地方，我有点不甘心，所以打算自己一个人去渔具店逛一逛，也想碰碰运气，看看有没有可能找到第三天的导钓。因为琵琶湖的导钓都需要提前预约，所以我真的不报什么期望。&lt;/p&gt;&#xA;&lt;p&gt;酒店附近就有一个渔具店，是我跟同伴一起去过一次的，招牌上画着一颗黄色的椰树，店名叫 7 palms。店长是一位瘦瘦高高的，看起来就像是一个非常pro的钓手。我在店里找到了不少有意思的小配件，但是其中一个我看不懂怎么用，于是我找他咨询了一下，他非常热心的给了我解答。同时他也问我是从哪里来的，于是我把这两天的行程也跟他描述了一下。&lt;/p&gt;&#xA;&lt;p&gt;&amp;ldquo;ああ、確かに難しいですね&amp;rdquo;&lt;/p&gt;&#xA;&lt;p&gt;&amp;ldquo;すみません I am looking for fishing guide , 30,000円 to 40,000円 ok です&amp;rdquo;&lt;/p&gt;&#xA;&lt;p&gt;&amp;ldquo;今?フィッシングガイドに連絡してみます。&amp;rdquo;&lt;/p&gt;&#xA;&lt;p&gt;随后，店长先是问了店里面的两个人，然后似乎是打了一个电话给他的朋友。这个时候我已经非常的不好意思了，但是有一些期待。山重水远，人在他乡，也从没想过能遇到热心的人帮忙。时间好像过的很漫长，我感觉很累，自己也在怀疑身体能抗住明天再钓一天吗？中间朋友也过来了，我们大概聊了一下，他们也表示支持。&lt;/p&gt;&#xA;&lt;p&gt;大概打了可能有7轮电话！真的还是要再谢谢这位店长，至今我也不知道他的名字，可惜。&lt;/p&gt;&#xA;&lt;p&gt;最终，他帮我联系到了一位年轻的导钓，和雅先生。然后我又过了难眠的一晚，清晨迷迷糊糊的坐上了车，看到了车窗前方那只死掉的浣熊。&lt;/p&gt;&#xA;&lt;p&gt;也许旅程的惊喜，往往就在安排之外吧。&lt;/p&gt;&#xA;&lt;p&gt;第三天反而是我觉得玩得最开心的一天，我跟和雅小哥聊了很多的话题，最喜欢的钓手，喜欢的日本动漫，等等等等。然后就是继续用neko在2-3米深的浅水抽停，突然，杆尖抖动，提杆确认，向上刺鱼。这手感真的不同，是一条大鱼！经过了一番搏斗，终于上岸，45cm，虽然没有朋友钓的大，但是也算破了我个人的记录，一切都，值得了。&lt;/p&gt;&#xA;&lt;p&gt;下午，和雅小哥问我，在这附近举办了一个钓鱼人的节日聚会，你想去吗？并且，你喜欢的日本钓手伊藤巧也在。于是，惊喜就是在旅程之外，我们一起去参加了节日聚会，并且，我见到了伊藤巧，看到视频里面的人从画面走出来，真是一个神奇的体验。&lt;/p&gt;&#xA;&lt;p&gt;当晚，我一个人，拖着疲惫的身躯，与净化的心灵，从守山又回到了大阪。好几天没有睡好的我，那一晚睡了一个好觉。&lt;/p&gt;&#xA;</description>
    </item>
    <item>
      <title>总结2023</title>
      <link>https://www.yingxinsong.com/post/2023/</link>
      <pubDate>Mon, 29 Jan 2024 15:05:46 +0800</pubDate>
      <guid>https://www.yingxinsong.com/post/2023/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;种一棵树最好的时间是十年前，其次是现在&lt;/p&gt;&#xA;&lt;p&gt;—— &lt;a href=&#34;https://zachklein.com/Sidewalk&amp;#43;Garden&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://zachklein.com/Sidewalk+Garden&lt;/a&gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;​&#x9;现在是2024年，十年前的这个时候我决定离开北京，从一个看不到前途的公司离职，来到了深圳。我还能想起那个时候我想做什么：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;想做导演，成为宫崎骏一样的人；&lt;/li&gt;&#xA;&lt;li&gt;想创业，做一个让很多人使用的App&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;十年前的我，面对未来的前途是不确定的，好像对什么都无所谓。手里也没有什么钱，在深圳租了房子之后，剩下的钱仅仅可以再生活两个月。幸运的是时代赋予了充分的红利，阴差阳错的赶上了移动互联网的大潮，很快就找到了一份大厂的工作，开始了社畜的十年。&lt;/p&gt;&#xA;&lt;p&gt;十年后的我，没做成导演，也没有创业，还做着同一份工作。&lt;/p&gt;&#xA;&lt;p&gt;2034年的我，会怎么样呢？&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;&amp;ldquo;A great man doesn’t seek to lead. He’s called to it. And he answers. And if your answer is no, you’ll still be the only thing I ever needed you to be. My son. I found my own way to it. Maybe you’ll find yours.&amp;rdquo;&lt;/p&gt;&#xA;&lt;p&gt;—— Dune&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;​&#x9;面对社会，对抗，冲突，不满，厌恶，妥协，理解，适应，融入，圆滑，坚持，自我，无我。&lt;/p&gt;&#xA;&lt;p&gt;​&#x9;“A great man doesn’t seek to lead?” ，我带上一个问号，只有权贵带着生来的身份，才可以等待命运的召唤。对于芸芸大众来说，只有自己才能掌握自己的命运，要放下很多的自我，对自己更狠一些，才能借助别人的力量，做成自己想做的事情。&lt;/p&gt;&#xA;&lt;p&gt;​&#x9;“世界是由草台班子搭成的”，那就应该由我来搭这个草台班子。&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;富人购买资产，穷人购买负债&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;​&#x9;投资这件事情，一定要亲身经历过才能明白，经历过14年的房市暴涨，15年的股市暴跌，19年虚拟币的PPT，21年港股打新的疯狂，终于明白了资产与负债的区别。今年在这一块，最重要的事情就是把家庭的消费模式，从储蓄+按比例分配模式，改成现金流模式。未来，就是通过持续优化现金流，来实现一定的可持续性。&lt;/p&gt;&#xA;&lt;p&gt;​&#x9;另一个问题是关于资产，金融危机来了，什么是资产？23年年初的时候读了达里奥的《债务危机》，从统计的角度上来看，经济总是在泡沫与低谷之间来回震荡，如果现在是低谷，那是不是要去负债购买更多的资产？&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;刻意练习&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;​&#x9;如果要学习一项新的技能，就必须要用正确的方式刻意练习。比如，科比曾经在某一场比赛因为对方打手犯规而错失了一个绝杀球，赛后，他找到自己的训练师并要求对方在跳投的过程中打手犯规，一直练习到自己找到解决办法。&lt;/p&gt;&#xA;&lt;p&gt;​&#x9;钓鱼也是一样的道理，总想着为了钓到鱼，而忘记了基本功的重要性，反而会让你错失更多的鱼。&lt;/p&gt;&#xA;&lt;p&gt;​&#x9;这就带来一个新的问题，如果在一个全新的领域，你怎么能通过尽量少的试错，来取得最快的成长呢？对于这样的一个经验，应该怎样复制给自己的小孩呢？&lt;/p&gt;&#xA;&lt;p&gt;​&#x9;另一个问题，马上满34岁的你，未来的人生，还想学习到哪些技能？&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;国外的月亮比较圆&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;​&#x9;国外的月亮是不是真的比较圆，这就像小马过河，总是因人而异。今年原本的规划是考一个英文考试，然后拿一个语言证书，钱交了之后，本以为能学一些真正的语法，没想到培训机构都是教你怎么去考试，虽然我没有去过新东方，但是如果新东方都是教这些东西，这样的学习也真的是没啥意思。这样的心态，也导致我在这件事的执行上一再拖延，不过回想回来，如果目的原本就是要拿一个证书，那是否学到真正的语言是否重要？&lt;/p&gt;&#xA;&lt;p&gt;​&#x9;话说回来，也许国外的月亮是否比较圆不重要，自己或者是自己的小孩，能否在未来的多样化的世界中，成为世界公民，拥有选择的能力，也许才是更重要的事情。&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;成人要有自己的判断力，拒绝吃饼&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;今年做好你要做的事情&lt;/li&gt;&#xA;&lt;li&gt;做事情聪明一点，有预判能力&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;</description>
    </item>
    <item>
      <title>有些事适合长话短说</title>
      <link>https://www.yingxinsong.com/post/fishing_plan_2024/</link>
      <pubDate>Thu, 19 Oct 2023 10:14:29 +0800</pubDate>
      <guid>https://www.yingxinsong.com/post/fishing_plan_2024/</guid>
      <description>&lt;p&gt;&lt;em&gt;Naval Ravikant&lt;/em&gt; 把自己的话整理到Twitter，Twitter的字数限制，有助于把思想压缩，其实我写博客也应该如此，长篇大论的废话有多少是经过深度思考的呢？&lt;/p&gt;&#xA;&lt;p&gt;我最近在思考，如何成为一个顶尖的钓手。龚磊认为这就像神枪手需要子弹，顶尖的钓手也是被大量的鱼“喂”出来的，很显然，国内并没有这样的环境。&lt;/p&gt;&#xA;&lt;p&gt;成为一个顶尖钓手，与成为一个顶尖的程序员其实并没有什么不同。虽然对于程序员来说，细分的领域很多，但是编译原理、算法这些知识总是不变的，抓住不变的，才能应万变。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;对于钓鱼来说，有哪些东西是不变的？&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;强健的体魄与耐力&lt;/li&gt;&#xA;&lt;li&gt;精准的抛投技巧&lt;/li&gt;&#xA;&lt;li&gt;钓组组装、线轮搭配、各种打结技巧&lt;/li&gt;&#xA;&lt;li&gt;了解天气、水域、气压&lt;/li&gt;&#xA;&lt;li&gt;语言能力&lt;/li&gt;&#xA;&lt;li&gt;了解鱼的习性&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;在陌生地域，花钱寻找导钓的性价比是最高的，生命有限，时间有限，机会有限。任何一个领域想要成为顶尖高手，有目的性的练习非常重要。所以我希望每年给自己一个在这个领域的目标，并有计划的练习与完成。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;问：到底应该花更多的时间在兴趣爱好上，还是应该花更多的时间在赚钱上？&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;答：人生只有一次，一边持续优化现金流，一边满足自己的兴趣爱好。只要有足够的时间，人可以成为任何想成为的人。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;2024年的目标，马来西亚钓多曼鱼，旗鱼。要实现这个目标，我欠缺什么？&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;我需要补充一根Bone Voyage H 四节杆，轮子考虑继续使用禧玛诺蒙塔尼101HG 或者是购入CQ100&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;练习远投以及精准抛投&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;多曼重量在15kg以上，旗鱼在20-40kg，我需要提升自己的力量与耐力&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;导钓&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;&lt;strong&gt;按照下面的列表来精进技能：&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;抛投技巧 3/7：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li data-task=&#34;x&#34; title=&#34;已完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-solid fa-check-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;荡抛&lt;/li&gt;&#xA;&lt;li data-task=&#34;x&#34; title=&#34;已完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-solid fa-check-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;侧抛&lt;/li&gt;&#xA;&lt;li data-task=&#34;x&#34; title=&#34;已完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-solid fa-check-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;Roll piching&lt;/li&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;下压抛&lt;/li&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;远投&lt;/li&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;正手&lt;/li&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;反手&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;钓法 2/5：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li data-task=&#34;x&#34; title=&#34;已完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-solid fa-check-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;目视钓法&lt;/li&gt;&#xA;&lt;li data-task=&#34;x&#34; title=&#34;已完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-solid fa-check-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;精细&lt;/li&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;强力精细&lt;/li&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;反应&lt;/li&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;雷强&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;打结 3/10： &lt;a href=&#34;https://zhuanlan.zhihu.com/p/373207033&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://zhuanlan.zhihu.com/p/373207033&lt;/a&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;fg结&lt;/li&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;血结&lt;/li&gt;&#xA;&lt;li data-task=&#34;x&#34; title=&#34;已完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-solid fa-check-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;渔夫结&lt;/li&gt;&#xA;&lt;li data-task=&#34;x&#34; title=&#34;已完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-solid fa-check-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;帕洛玛结&lt;/li&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;uni结&lt;/li&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;Surgeon&amp;rsquo;s Knot&lt;/li&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;奥尔布赖特结&lt;/li&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;尤卡坦结&lt;/li&gt;&#xA;&lt;li data-task=&#34;x&#34; title=&#34;已完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-solid fa-check-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;GT结&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;常用钓组：&lt;/p&gt;&#xA;&lt;p&gt;软饵类 5/7：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;德州钓组&lt;/li&gt;&#xA;&lt;li data-task=&#34;x&#34; title=&#34;已完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-solid fa-check-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;倒钓钓组&lt;/li&gt;&#xA;&lt;li data-task=&#34;x&#34; title=&#34;已完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-solid fa-check-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;wacky钓组&lt;/li&gt;&#xA;&lt;li data-task=&#34;x&#34; title=&#34;已完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-solid fa-check-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;neko钓组&lt;/li&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;卡罗莱纳钓组&lt;/li&gt;&#xA;&lt;li data-task=&#34;x&#34; title=&#34;已完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-solid fa-check-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;无铅钓组&lt;/li&gt;&#xA;&lt;li data-task=&#34;x&#34; title=&#34;已完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-solid fa-check-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;夹铅钓组&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;硬饵类 2/7：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;crank&lt;/li&gt;&#xA;&lt;li data-task=&#34;x&#34; title=&#34;已完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-solid fa-check-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;Spinner bait&lt;/li&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;chatter bait&lt;/li&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;米诺&lt;/li&gt;&#xA;&lt;li data-task=&#34;x&#34; title=&#34;已完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-solid fa-check-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;JIG&lt;/li&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;铅笔&lt;/li&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;之子狗&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;体能 0/3：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;连续50个俯卧撑&lt;/li&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;连续30分钟划船机&lt;/li&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;1000米 3分50秒&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;语言：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li data-task=&#34;x&#34; title=&#34;已完成&#34;&gt;&#xA;&lt;p&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-solid fa-check-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;中文&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li data-task=&#34;x&#34; title=&#34;已完成&#34;&gt;&#xA;&lt;p&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-solid fa-check-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;广东话&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li data-task=&#34;x&#34; title=&#34;已完成&#34;&gt;&#xA;&lt;p&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-solid fa-check-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;英文（不够熟练）&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li data-task=&#34; &#34; title=&#34;未完成&#34;&gt;&#xA;&lt;p&gt;&lt;i class=&#34;checkbox-icon fa-fw fa-regular fa-square&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;日文&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;&lt;strong&gt;行程规划：&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/fishing/image-20231019193027820.png&#39; alt=&#34;image-20231019193027820&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;第一天：飞抵吉隆坡，联系导钓，前往文东镇&lt;/p&gt;&#xA;&lt;p&gt;第二天：7:30am到达钓场，上船出发钓鱼。钓到下午6:00pm结束，返回文冬镇吃晚餐和到旅馆过夜。&lt;/p&gt;&#xA;&lt;p&gt;第三天：清早6:00am离开旅馆去吃早餐，7:30am出发钓鱼至下午6:00pm结束。回旅馆休息。&lt;/p&gt;&#xA;&lt;p&gt;第四天：清早6:00am离开旅馆去吃早餐，7:30am出发钓鱼至下午6:00pm结束，然后返回吉隆坡。&lt;/p&gt;&#xA;&lt;p&gt;第五天：离开吉隆坡&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;关于长远的目标:&lt;/strong&gt;&lt;/p&gt;&#xA;</description>
    </item>
    <item>
      <title>大厂职级晋升指南</title>
      <link>https://www.yingxinsong.com/post/grow_up_with_pain/</link>
      <pubDate>Tue, 17 Oct 2023 00:56:37 +0800</pubDate>
      <guid>https://www.yingxinsong.com/post/grow_up_with_pain/</guid>
      <description>&lt;h2 class=&#34;heading-element&#34; id=&#34;序言&#34;&gt;&lt;span&gt;序言&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e5%ba%8f%e8%a8%80&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;这篇总结文档起初创建于2023年的2月1日，当时我正在准备冲刺晋升专家答辩的PPT，想到此次就算没有通过，那么也应该对职级晋升这件事情做一个总结，所以临时起意，创建了一篇文档。中文名叫《十倍的胆量》，英文名叫《growing up with pain》。看似两个毫不相关的名字实际上却反应了我那时的心境，十倍的胆量的来源其实有趣，是在一个饭局上听到一个人说他去问他的老师今年要做什么，老师说，今年你要找一个比你胆子大十倍的人，与他一起吃，一起住，一起玩。而英文名大约是反应了我当时准备PPT的心境，在痛苦中成长。没想到一语成箴，这一次答辩又没有通过，又痛了一次。&lt;/p&gt;&#xA;&lt;h2 class=&#34;heading-element&#34; id=&#34;职级晋升的流程&#34;&gt;&lt;span&gt;职级晋升的流程&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e8%81%8c%e7%ba%a7%e6%99%8b%e5%8d%87%e7%9a%84%e6%b5%81%e7%a8%8b&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;不做详细的介绍，先简单说一下职级晋升的流程。&lt;/p&gt;&#xA;&lt;p&gt;无论是硅谷的FANG，还是国内的腾讯、阿里等一系列大厂，都独立于管理体系，建立了一套单独的职级体系。这背后的动机，是为不想参与到管理序列竞争的专业性人才有独立的晋升通道。由于职级与薪水往往挂钩，所以在这类系统的每个人，都非常重视。&lt;/p&gt;&#xA;&lt;p&gt;虽然不同公司的考核周期不同，但是通常来说，职级晋升的开始时间会在出考核结果之后，大厂为满足职级晋升条件的人进行通道评审。形式上，是候选人在一定的时间，向多位评委汇报自己的工作成绩。在这个过程中，评委会不断挑战候选人的工作内容，候选人也需要临场应对，给出评委满意的答复，所以，通道评审也往往被称为答辩。&lt;/p&gt;&#xA;&lt;p&gt;答辩季前后，公司内部的空气是完全不一样的。如果一个平常经常跟你一起吃饭的同事，突然有一天开始魂不守舍，总是一边走路，一边若有所思，那他八成在想自己的汇报材料。往往答辩前，也总有一批人挑灯夜战，甚至干到凌晨才依依不舍的下班，这八成也是在准备PPT。&lt;/p&gt;&#xA;&lt;p&gt;答辩之后，通过的人喜笑颜开，各种饭局也就组织起来了。而不通过的人，或者是郁郁寡欢，或者是“勘破红尘”，再也不想参加了，也有的人暗自摩拳擦掌，把每一次的失败当成宝贵的经验。&lt;/p&gt;&#xA;&lt;p&gt;说来有意思，这里的每一种状态我都经历过。入职以来，除了前两年在低职级序列不需要参与答辩，从第三年开始，经历了六次通道评审，总共晋升了4个职级，也就是说，平均一个职级我需要答辩1.5次，可以算是这个系统的loser了。&lt;/p&gt;&#xA;&lt;h2 class=&#34;heading-element&#34; id=&#34;不同职级的要求&#34;&gt;&lt;span&gt;不同职级的要求&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%b8%8d%e5%90%8c%e8%81%8c%e7%ba%a7%e7%9a%84%e8%a6%81%e6%b1%82&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;国内的大厂，通常职级序列分为多个大的级别，以及若干个小级别，从软件开发的角度来说，其实就是一个人从小工，到专家的过程。以腾讯以前的职级序列举例，分为助理工程师，工程师，高级工程师，专家级工程师：&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;职级名称&lt;/th&gt;&#xA;          &lt;th&gt;职级范围&lt;/th&gt;&#xA;          &lt;th&gt;关键词&lt;/th&gt;&#xA;          &lt;th&gt;晋升是否需要答辩&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;助理工程师&lt;/td&gt;&#xA;          &lt;td&gt;T1.1-&amp;gt;T1.3&lt;/td&gt;&#xA;          &lt;td&gt;了解&lt;/td&gt;&#xA;          &lt;td&gt;❌&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;工程师&lt;/td&gt;&#xA;          &lt;td&gt;T2.1-&amp;gt;T2.3&lt;/td&gt;&#xA;          &lt;td&gt;掌握&lt;/td&gt;&#xA;          &lt;td&gt;❌&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;高级工程师&lt;/td&gt;&#xA;          &lt;td&gt;T3.1-&amp;gt;T3.3&lt;/td&gt;&#xA;          &lt;td&gt;主导&lt;/td&gt;&#xA;          &lt;td&gt;✅&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;专家级工程师&lt;/td&gt;&#xA;          &lt;td&gt;T4.1-&amp;gt;T4.3&lt;/td&gt;&#xA;          &lt;td&gt;建设&lt;/td&gt;&#xA;          &lt;td&gt;✅&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;科学家&lt;/td&gt;&#xA;          &lt;td&gt;T5&lt;/td&gt;&#xA;          &lt;td&gt;引领&lt;/td&gt;&#xA;          &lt;td&gt;✅&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;p&gt;&lt;strong&gt;助理工程师&lt;/strong&gt; ：主动了解，包括对业务、系统、架构的了解。在这个阶段是职业生涯的初期，主要是一个助理的角色，工作的分配，往往是协助完成业务需求。在这个阶段打好基础是非常重要的，最好的实践就是踏实肯干，多做事情。一方面能够建立良好的个人口碑，赢得足够的信任度。另一个方面也可以更好的熟悉业务，理解业务。在这个阶段不挑活的人，后面也往往是职业发展更顺利的那一批人。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;工程师&lt;/strong&gt;：熟练掌握，不再是助理的身份，意味着需要能够独当一面，比如可以独立承担一个需求的开发，或者是小范围的技术优化，重构，技术指标的建设等。在这个阶段，最好的实践是建立自己的品牌，因为此时在项目有了更多的发言权，那么就是个人特色发挥的时候了。在一个大公司里面，个人品牌是非常重要的，你在别人眼里，是一个靠谱的人？还是技术大牛？还是一个难缠的角色？其实在每一次会议的碰撞中，一个个的来自别人的标签就出现了。这是不可避免的事情，我认为最好的实践，就是欣然接受并且竖立好自己的口碑。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;高级工程师&lt;/strong&gt;：高级的称号，需要通过了职级晋升才能获得，由于T3.1是第一个需要通道答辩才能晋升的职级，所以每年有大量的T2.3卡在这个职级，这就导致了获得这个称号非常困难。实际上，我刚入职的那一年，组里面有一半人工作了四五年都没有晋升到高级工程师的同学。当时的内部IM，点开对方头像的时候还能看到职称。看到一个人是高级工程师，都会肃然起敬。高级工程师，是能够在关键的技术决策上，主导架构，拍板的角色。所以，这个阶段的关键词是主导。&lt;/p&gt;&#xA;&lt;p&gt;进入这个阶段，除了硬实力之外，软实力也不可或缺，不少的人都会对两个词深恶痛绝，一个词是“影响力”，另一个词是“方法论”。&lt;/p&gt;&#xA;&lt;p&gt;什么是影响力？&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;影响力是指一个人、组织或者某种思想对他人或者社会产生影响的能力。这种影响可以是积极的，也可以是消极的，可以是直接的，也可以是间接的。&lt;/p&gt;&#xA;&lt;p&gt;影响力可以通过各种方式产生，例如通过领导力、专业知识、社交媒体影响力、道德权威等。一个有影响力的人或组织可以改变他人的观点、行为或决策，推动或阻止某种变化的发生。&lt;/p&gt;&#xA;&lt;p&gt;影响力的大小通常取决于多种因素，包括但不限于个人的信誉、专业能力、社交网络、公众形象、沟通技巧等。在社会和组织中，影响力是一种重要的软实力，可以用来推动变革、解决问题、领导团队等。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;什么是方法论？&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;方法论，又称方法论理论，是研究如何进行科学研究和解决问题的一种理论。它涉及到研究的设计、数据收集和分析、解释和评估结果等各个方面。方法论可以帮助研究者确定最适合他们研究目标的研究方法和技术。&lt;/p&gt;&#xA;&lt;p&gt;方法论可以分为定性方法论和定量方法论。定性方法论主要关注对个体、事件或现象的深入理解和解释，常用的方法包括观察、访谈、案例研究等。定量方法论则主要关注对大量数据的统计分析，以得出可以推广到更大群体的结论，常用的方法包括实验、调查、数学建模等。&lt;/p&gt;&#xA;&lt;p&gt;不同的学科领域可能会有各自特定的方法论，例如社会科学方法论、自然科学方法论、人文科学方法论等。这些方法论都是为了指导研究者如何更有效、更准确地进行研究。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;每次答辩结束后，总有很多人收到来自评委的评语，“在xxx事情上缺少方法论&amp;hellip;” ，“影响力需要进一步加强”，所以就会困惑，我把事情做好就行了，为什么还需要什么影响力，方法论？尤其是近几年，对大厂方法论的讨伐源源不绝。&lt;/p&gt;&#xA;&lt;p&gt;我对这两个词的说法还是偏正面的，尤其是做了评委之后，每次职级评审，横向对比不同的候选人，就会发现不同的人，影响力，以及做事的方法论确实是不一样的。与其说是要求做事有方法论，不如说是有把事情做完后总结输出的能力。影响力也是一样，比如一个框架，是否有多个业务接入，足以看出这个事情的价值。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;专家级工程师&lt;/strong&gt;：只有极少数的人能够成长为专家级工程师，客观的说，一个人要成长为专家工程师，就需要在足够多的项目能够有充分的话语权。另外，专家级工程师的关键词是建设，这也就意味着往往是从0到1设计出一个系统，这需要大量的资源，资源意味着人力，意味着时间。所以，往往能够晋升到这一个职级的人，也都是有管理职级。只有少部分研究序列的通道会从业内的影响力来衡量，比如参与H266编码标准，或者是逆向、安全等领域。&lt;/p&gt;&#xA;&lt;p&gt;这也就是说，大厂里面的专家其实是有两个维度的：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;业务专家 —— 理解当前的业务，能够在自己的领域，针对业务做开创性的设计，辅助业务成长，具备公司级的影响力&lt;/li&gt;&#xA;&lt;li&gt;行业专家 —— 引领整个行业的风向标，制定标准，组织相关峰会，具备业界的影响力&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;这两个专家并不是绝对冲突的，不过从我的观察来说，大部分的专家还是属于业务专家，要成为行业专家，仅仅做好自己的业务还不够，需要通过分享、著书等方式不断地扩大自己的业内影响力。&lt;/p&gt;&#xA;&lt;h2 class=&#34;heading-element&#34; id=&#34;如何准备答辩&#34;&gt;&lt;span&gt;如何准备答辩&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e5%a6%82%e4%bd%95%e5%87%86%e5%a4%87%e7%ad%94%e8%be%a9&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h2&gt;&lt;h3 class=&#34;heading-element&#34; id=&#34;功在平时&#34;&gt;&lt;span&gt;功在平时&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e5%8a%9f%e5%9c%a8%e5%b9%b3%e6%97%b6&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;虽然大家都说功在平时，但是到底要从哪些方向做功呢？在错误的方向做无用功，其实也是不对的。我的经验，是从两个维度来下功夫：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;系统架构&lt;/li&gt;&#xA;&lt;li&gt;技术指标&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;先说技术指标，我们都看过律政剧，律师在出庭之前，最重要的就是收集证据，这样在当庭辩论的过程中，才能通过不断举证，来证明陈述的合理性，达到为原告或者被告辩护的目的。&lt;/p&gt;&#xA;&lt;p&gt;从本质上来说，大厂答辩的过程，与律师当庭辩论并没有本质上的不同。举例来说，评委可能会问：&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;问：你怎么证明你这个系统的可靠性？&lt;/p&gt;&#xA;&lt;p&gt;答：因为我的系统成功率是99.999%，出错的比例只有万分之一，所以非常可靠。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;那么从这个例子就可以看出，如果没有预先准备好数据佐证，就会被扣分。就我个人的体验来说，我经常会在过技术方案的过程中挑战团队内部同学是否设计了相关的技术指标，没有数据佐证的系统是脆弱的，而且一旦发布，也不清楚对用户的影响情况，是非常有损用户体验的。&lt;/p&gt;&#xA;&lt;p&gt;再说系统架构，软件开发，总是离不开稳定、可靠、柔性、扩展性，可移植性等等关键字，不同的业务阶段，对系统的要求不一样，也许业务发展前期，要求快速上线，那么前期的重点应该放在系统的稳定性上。后面随着业务逐渐完备，也许又会产生业务复用的诉求，这个时候重点又转移到可移植性上了。&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;动大于谋&#34;&gt;&lt;span&gt;动大于谋&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e5%8a%a8%e5%a4%a7%e4%ba%8e%e8%b0%8b&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;时间来到答辩前夕，此时该做的事情也做得差不多了，是到了总结的时候了。此时可能自己做过两三个项目，该怎么呈现到答辩材料（PPT）里呢？我的经验是，此时最好的办法是行动，而不是谋划。下面给出一系列建议操作步骤：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;确定答辩的项目&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;打开一个脑图软件，梳理所有的答辩内容&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/grow_up/image-20231017191345187.png&#39; alt=&#34;image-20231017191345187&#34;&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;开始按照一定的模版填充内容：&lt;/p&gt;&#xA;&lt;p&gt;问题：XXXX&lt;/p&gt;&#xA;&lt;p&gt;解决方案：XXXXX&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/grow_up/image-20231017191858158.png&#39; alt=&#34;image-20231017191858158&#34;&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;根据填充的内容重新梳理结构&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;为每一页内容写一段串词&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;注：通常在这个阶段，就可以发现这一页内容的合理性&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;优化内容，可以是通过表格、或者是图形的方式辅助表达&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;持续完善5、6步骤，直到完成整个汇报材料&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;这样做的好处是，可以快速的写出第一个版本的材料。这个过程就像画家作画，往往开始的时候，都是从一个轮廓开始，然后再逐渐填充，在填充的过程中，也许有新的创意，都是可以按需更改。但是如果始终停留在构思的阶段，就很容易抓不住重点。&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;缜密的拷问&#34;&gt;&lt;span&gt;缜密的拷问&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e7%bc%9c%e5%af%86%e7%9a%84%e6%8b%b7%e9%97%ae&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;在完成第一个版本的材料后，应该对每一个内容都充分的拷问，下面是一些拷问的示例：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;你为什么做这个事情？&lt;/li&gt;&#xA;&lt;li&gt;这个项目的价值体现在哪里？&lt;/li&gt;&#xA;&lt;li&gt;了解过其他方案吗？所选的技术方案有没有在行业内做过对比？&lt;/li&gt;&#xA;&lt;li&gt;系统的稳定性怎样？有没有指标衡量？&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;这些问题，其实都是大厂职级评审过程中评委的一些通用问题。那这些问题的背后透露出一个什么特点呢？那就是评委的期望，是要候选人对自己所做的事情是先验的，但是由于候选人在做项目的时候，一没经验，二没时间，是没有办法事事都做到先验的。所以，这里的取巧的办法，就是在总结的时候把这些内容当成预先设计好的考量来说，将后验转为先验。&lt;/p&gt;&#xA;&lt;p&gt;在持续拷问过程中，可以及时的优化内容，对于一些数据佐证，也可以进行补充。由于答辩内容往往有时间的限制，所以可以把准备好的材料放到附录，或者是备注里，以备临场提问时作答。&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;试炼的心流&#34;&gt;&lt;span&gt;试炼的心流&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e8%af%95%e7%82%bc%e7%9a%84%e5%bf%83%e6%b5%81&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;我建议在准备答辩的过程中，心态上不要如临大敌，而是应该平常心，把每一次答辩当成一次小模拟考试，一次自我总结的机会。同时，也应该把答辩当成一种游戏，而你的任务，就是找出这个游戏的解法，想办法去攻破每一个难题。当以游戏的方式来看待答辩，从我的经验上来说，更容易进入心流，每一次的预演，都能找出与上次不一样的地方，从而持续的改善。&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;临场&#34;&gt;&lt;span&gt;临场&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%b8%b4%e5%9c%ba&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;就算是内容准备的再充分，临场发挥的时候也总有一些突发状况，不同的人对突发状况应对方式不一样，这涉及到个人的风格，这里就不过多展开。我至今记得某一次答辩的过程中，有一位评委一直挑战我不应该应用某种技术方案，而这是一个业内通用的方案，我据理力争，但是他仍然不依不饶，最后僵持不下，十分尴尬。至今回想，我也不觉得自己有什么错，虽然那次答辩也没有通过，但是这种时候我还是会坚持自己的想法。&lt;/p&gt;&#xA;&lt;h2 class=&#34;heading-element&#34; id=&#34;对待结果的正确心态&#34;&gt;&lt;span&gt;对待结果的正确心态&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e5%af%b9%e5%be%85%e7%bb%93%e6%9e%9c%e7%9a%84%e6%ad%a3%e7%a1%ae%e5%bf%83%e6%80%81&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;在答辩结束后，出结果之前，无论是任何人都没有办法做到绝对的心平气和。但是，我还是建议保持平常心，说实话，如果把时间拉的足够长，通过不懈努力，我相信任何人都能努力达到自己期望的职级。&lt;/p&gt;&#xA;&lt;h2 class=&#34;heading-element&#34; id=&#34;对这个体系的看法&#34;&gt;&lt;span&gt;对这个体系的看法&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e5%af%b9%e8%bf%99%e4%b8%aa%e4%bd%93%e7%b3%bb%e7%9a%84%e7%9c%8b%e6%b3%95&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;OK，洋洋洒洒写了4000多字，说说我对这个体系最真实的看法吧：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;职级体系，其实本质上是管理工具&lt;/li&gt;&#xA;&lt;li&gt;晋升后的职级，脱离了一定的体系毫无用处&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;举例来说，时间来到2023年，国内的互联网大厂纷纷开始压缩职级，减少冗长的职级申报步骤，精简评审。不看武功看战功，这样就又回到了商业模式的本质，只有创造价值的人，才应该被分配最大的蛋糕。&lt;/p&gt;&#xA;&lt;h2 class=&#34;heading-element&#34; id=&#34;未来的畅想&#34;&gt;&lt;span&gt;未来的畅想&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e6%9c%aa%e6%9d%a5%e7%9a%84%e7%95%85%e6%83%b3&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;回到最开始，我为什么想写这篇文章呢？一方面我还是想总结一下这些年跟这个体系的爱恨情仇（我老婆就说过每次我职级不过就像霜打的茄子）。另一方面，也从自身的角度总结一定的经验。&lt;/p&gt;&#xA;&lt;p&gt;时间来到10月份，今年的第二次专家答辩，终于通过了，实在是不易，也许，我跟职级晋升这件事情的故事，也从此结束了罢，&lt;/p&gt;&#xA;</description>
    </item>
    <item>
      <title>移动端支付链路优化指南</title>
      <link>https://www.yingxinsong.com/post/optimize_iap_purchase/</link>
      <pubDate>Wed, 30 Nov 2022 16:38:55 +0800</pubDate>
      <guid>https://www.yingxinsong.com/post/optimize_iap_purchase/</guid>
      <description>&lt;p&gt;&lt;strong&gt;TL;DR&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;h2 class=&#34;heading-element&#34; id=&#34;序&#34;&gt;&lt;span&gt;序&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e5%ba%8f&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;​&#x9;一个用户流失的可能性有很多种，不过我相信你最不愿意的就是他在支付、购买的过程中流失。一方面，付费的用户往往粘性更高，停留时间更长，这对产品的指标是有帮助的；而另一方面，既然用户发起了支付，那么就说明他有购买的意愿，也证明了你的想法是成功的，可商业化的。但是现实往往并不那么让人满意，实际上在整个支付的链路上，有相当一部分的用户由于各种原因流失了，本文主要阐述我是如何分析以及优化这些指标的。&lt;/p&gt;&#xA;&lt;h2 class=&#34;heading-element&#34; id=&#34;一建立支付转化漏斗&#34;&gt;&lt;span&gt;一、建立支付转化漏斗&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%b8%80%e5%bb%ba%e7%ab%8b%e6%94%af%e4%bb%98%e8%bd%ac%e5%8c%96%e6%bc%8f%e6%96%97&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h2&gt;&lt;h3 class=&#34;heading-element&#34; id=&#34;曝光转化率&#34;&gt;&lt;span&gt;曝光转化率&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e6%9b%9d%e5%85%89%e8%bd%ac%e5%8c%96%e7%8e%87&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;要降低支付链路上的折损，第一步首先要清楚折损的点是从哪里来的，采用转化漏斗是一种比较常见的方式。另一个方面，也需要考虑是要度量的流程从何开始，到什么时候结束。举例来说，产品同学通常计算支付转化率，是以下面这个公式来计算的：&lt;/p&gt;&#xA;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;支付转化率&amp;ensp;=&amp;ensp;支付成功人数/营销页面曝光数&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;但，当整个支付转化漏斗还没有建立完整的时候，是不建议以页面曝光为支付转化流程中的起点的，原因是往往营销策略决定了用户支付的意愿，从而不同营销策略带来的支付转化率相差较大，研发同学是无从优化的。&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;支付转化率&#34;&gt;&lt;span&gt;支付转化率&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e6%94%af%e4%bb%98%e8%bd%ac%e5%8c%96%e7%8e%87&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;​&#x9;考虑到上面这个问题，可以采用下面这个公式：&lt;/p&gt;&#xA;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;支付转化率&amp;ensp;=&amp;ensp;支付成功人次/发起支付的次数&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;这样的好处在于，发起支付到支付成功，衡量的是支付能力的成功率，发起支付等于用户已经有了购买意愿，所以这就与营销策略无关了。&lt;/p&gt;&#xA;&lt;p&gt;要建立这个漏斗，可以按照下面几个步骤来实施：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;确定整个过程中涉及到的角色：以苹果支付举例，一次支付过程中涉及到用户、下单页、支付SDK、支付中台、发货后台、苹果后台这几个角色；&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;找出这几个角色之前的相互作用关系：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/iap/05.png&#39; alt=&#34;支付作用关系图&#34;&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;根据相关关系中间的步骤建立支付转化漏斗：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/iap/06.png&#39; alt=&#34;支付转化漏斗&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;从这个漏斗可以看出，主要的损耗在苹果支付这一步。&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h2 class=&#34;heading-element&#34; id=&#34;二优化支付链路上的异常&#34;&gt;&lt;span&gt;二、优化支付链路上的异常&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%ba%8c%e4%bc%98%e5%8c%96%e6%94%af%e4%bb%98%e9%93%be%e8%b7%af%e4%b8%8a%e7%9a%84%e5%bc%82%e5%b8%b8&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h2&gt;&lt;h3 class=&#34;heading-element&#34; id=&#34;启动应用--预拉取苹果商品&#34;&gt;&lt;span&gt;启动应用 —— 预拉取苹果商品&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e5%90%af%e5%8a%a8%e5%ba%94%e7%94%a8--%e9%a2%84%e6%8b%89%e5%8f%96%e8%8b%b9%e6%9e%9c%e5%95%86%e5%93%81&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;​&#x9;支付流程的第一步并不是下单，通常是初始化支付SDK，或者是跟苹果拉取商品信息。如果等到支付时再来做，用户可能需要等待更长的时间，在启动的时候就初始化支付SDK，可以更快的发起iAP支付。这背后的原因是苹果支付第一步是通过&lt;code&gt;SKProductRequests&lt;/code&gt; 去请求商品列表，但是这个过程并不像一个Http请求这么简单，背后还有较为复杂以及不透明的步骤，此处援引公司内一位专门负责iAP的同学整理的信息，步骤如下：&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;根据 AppleID + AppID（由开发者证书 SeedID + 应用包名 BundleID 组成）+ ProductID 寻找内存缓存，若缓存为空，发起网络请求并建立内存缓存。&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;strong&gt;若命中缓存，判断缓存是否过期。&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;若缓存过期或没有命中缓存，则使用 AppID+ ProductID 进行物品查找。&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;如果有在 Xcode 编译运行时指定使用 StoreKit Configuration File，会尝试在指定的文件中查找物品，若文件中不包含该 ProductID 相关的信息，则会直接回调 InvalidProductID。&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;如果没有指定上述文件，则苹果会前往 App Store Connect 下，确认该 AppID 下是否存在该 ProductID 对应的 App 内购买项目。&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;接下来，苹果需要判断当前应用是否从 App Store 下载（若是则为苹果现网包），若为 App Store 包，请求现网环境域名获取已审核物品；若为沙盒包，则过滤掉缺少关键配置（如价格，描述）等信息的无效 App 内购买项目。&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;最后，苹果需要根据 AppleID 的注册区域，决定该物品应该使用的币种及本地描述信息后，对其使用 SKProduct 进行包装后返回至成功回调。&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;&amp;ndash;来源：&lt;a href=&#34;https://mp.weixin.qq.com/s/OVG9zCUe5yqF96zDzeMg5Q&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;公众号：生活攻城狮&lt;/a&gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;从上面的步骤来看，如果第二步开始就能够命中缓存，那么后面的步骤就都能省略了。&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;发起下单--检测非法请求&#34;&gt;&lt;span&gt;发起下单 —— 检测非法请求&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e5%8f%91%e8%b5%b7%e4%b8%8b%e5%8d%95--%e6%a3%80%e6%b5%8b%e9%9d%9e%e6%b3%95%e8%af%b7%e6%b1%82&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;​&#x9;平均每周约有&lt;code&gt;3.46%&lt;/code&gt;的请求未能成功下单，造成这个损耗的原因，我统称它们为非法请求。非法请求的来源主要分为两类，第一类属于可以前置拦截类，汇总有下面几种类型：&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;非法请求&lt;/th&gt;&#xA;          &lt;th&gt;占比&lt;/th&gt;&#xA;          &lt;th&gt;解决办法&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;web传参数不对&lt;/td&gt;&#xA;          &lt;td&gt;未统计&lt;/td&gt;&#xA;          &lt;td&gt;有一例解决一例&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;越狱机请求&lt;/td&gt;&#xA;          &lt;td&gt;0.007%&lt;/td&gt;&#xA;          &lt;td&gt;前置判断&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;非AppStore版本&lt;/td&gt;&#xA;          &lt;td&gt;0.0035%&lt;/td&gt;&#xA;          &lt;td&gt;前置判断&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;未开启iAP支付开关&lt;/td&gt;&#xA;          &lt;td&gt;0.133%&lt;/td&gt;&#xA;          &lt;td&gt;前置给出提示，并跳转到设置页&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;p&gt;对于这一类的请求，如果用户依据给出的引导提示去安装AppStroe版本或者是打开对应的开关，最终仍然是可以购买成功的。而第二类属于下单请求已经提交到支付中台，或者苹果服务，由后台返回的下单错误，汇总有：&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;失败原因&lt;/th&gt;&#xA;          &lt;th&gt;占比&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;外币支付、非中国大陆区的账号&lt;/td&gt;&#xA;          &lt;td&gt;1.63%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;第三方代充&lt;/td&gt;&#xA;          &lt;td&gt;0.025%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;命中风控打击&lt;/td&gt;&#xA;          &lt;td&gt;0.14%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;错误码&amp;quot;4-1&amp;quot; , &amp;ldquo;4_-1234&amp;rdquo;，invalid productid&lt;/td&gt;&#xA;          &lt;td&gt;0.4%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;p&gt;对于这部分的非法请求，处理起来比较棘手。支付中台拦截这些请求的原因主要是处于安全的考虑，比如来自境外的信用卡黑卡，或者是利用苹果小额支付漏洞，俗称&lt;a href=&#34;https://baike.baidu.com/item/%E8%8B%B9%E6%9E%9C36%E6%8A%80%E6%9C%AF/20433641&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;苹果36技术&lt;/a&gt;来刷单。对于这部分请求，其实是应该被打击的，这部分折损可以算作固定折损，不计入优化的范围。另一部分是请求通过了支付中台，但是苹果后台返回&lt;code&gt;4_-1&lt;/code&gt; 或者是 &lt;code&gt;4_-1234&lt;/code&gt; 错误码，对于这部分的损耗，苹果给出了下列原因：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/iap/01.png&#39; alt=&#34;render&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;但是事实上只有极小部分的用户命中了上述的7个问题，首先，回到第一节启动应用部分所述的7个步骤来分析，从上报数据来看，用户发起购买的的时候，当前购买环境满足下面两点&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;strong&gt;此时用户购买的是正确的并且已经在苹果商店上架的商品&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;此时并没有新的iAP商品在审核中&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;所以讲道理是完全不应该购买失败的，所以可疑的点就只有一种可能，用户是越狱机，或者用户使用爱思助手等第三方渠道重新签名App的安装包，苹果认为这部分的流量并不是正常的，所以报错。针对这个问题，传统的手段是通过结合ipa包本身签名是否正确来校验，这个步骤并不能完全规避这种情况，此处不展开。另一个方案是采用苹果的&lt;a href=&#34;https://developer.apple.com/documentation/devicecheck/validating_apps_that_connect_to_your_server?language=objc&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;ATTest技术&lt;/a&gt;来验证流量是否合法：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/iap/02.png&#39; alt=&#34;render&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;ATTest是苹果为iOS 14以上的操作系统提供的一项可以用来检测用户请求的流量是否是来自于合法的技术能力，使用ATTest时，它会关联用户的硬件信息、App信息，生成一个密钥对，然后由客户端将这个密钥发送给苹果服务器做校验，如果这个请求来自一个可信的安装包（或者说一个真实的用户），那么苹果服务器会返回给客户端一个 &lt;strong&gt;attestation object&lt;/strong&gt;，客户端再将这个回包的信息发送给自己的服务器，服务器收到这个&lt;strong&gt;attestation object&lt;/strong&gt;后，会做下面几件事情：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;解析attestation object&lt;/li&gt;&#xA;&lt;li&gt;对比解析出来的appid 跟服务器存储的是否一致&lt;/li&gt;&#xA;&lt;li&gt;验证证书的有效性&lt;/li&gt;&#xA;&lt;li&gt;验证密钥的一致性&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/iap/03.png&#39; alt=&#34;iap&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;相比于本地校验证书，交给苹果服务器来校验安装包本身是否真实合法应该更可靠。基于这个想法，其实可以在用户发生 &lt;code&gt;4_-1&lt;/code&gt; 以及 &lt;code&gt;4_-1234&lt;/code&gt; 时去检测这部分用户是否真的是盗版包/越狱机，如果是的话，那么是否可以针对这部分用户直接采用微信支付的方式来开通对应的服务，成功率则要高的多。但是ATTest能力上线之后，真实数据显示大部分的用户并不是真正的盗版包，从下面的数据可以看出，仅有1.35%的用户是真正的&lt;code&gt;非法流量&lt;/code&gt; ，这也就是说，大部分导致这个问题的原因，应该仍是网络问题导致的。&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;日均检测数量&lt;/th&gt;&#xA;          &lt;th&gt;盗版包个数&lt;/th&gt;&#xA;          &lt;th&gt;占比&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;1.35k&lt;/td&gt;&#xA;          &lt;td&gt;26&lt;/td&gt;&#xA;          &lt;td&gt;1.35%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;苹果支付--降低异常与增加挽留措施&#34;&gt;&lt;span&gt;苹果支付 —— 降低异常与增加挽留措施&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e8%8b%b9%e6%9e%9c%e6%94%af%e4%bb%98--%e9%99%8d%e4%bd%8e%e5%bc%82%e5%b8%b8%e4%b8%8e%e5%a2%9e%e5%8a%a0%e6%8c%bd%e7%95%99%e6%8e%aa%e6%96%bd&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;在整个支付链路上，这个步骤是损耗最大的，达到57%以上，其中拆分下来又分三个步骤&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;支付错误 —— 通常是网络错误导致，苹果在境内的服务器并不稳定，支付失败概率较大&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;取消支付 —— 价格贵了、用户不想要了，为什么不可以用微信支付、支付宝支付等原因&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;杀进程 —— 由于网络的原因导致用户等待时间过长，所以用户等待不了杀进程&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/iap/09.png&#39; alt=&#34;render&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;针对这部分的损耗，核心在于如何&lt;strong&gt;降低异常&lt;/strong&gt;与&lt;strong&gt;增加挽留措施&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;h4 class=&#34;heading-element&#34; id=&#34;支付错误&#34;&gt;&lt;span&gt;支付错误&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e6%94%af%e4%bb%98%e9%94%99%e8%af%af&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h4&gt;&lt;p&gt;在以往，每一个App只能知道最外层的错误码，大部分返回信息都是&lt;code&gt;SKErrorDomain&amp;ensp;Code=0&amp;ensp;&amp;quot;发生未知错误&amp;quot;&lt;/code&gt; 根据外层错误码聚类，可以看出大部分问题属于未知错误，或者是属于网络错误导致的:&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;支付失败错误码&lt;/th&gt;&#xA;          &lt;th&gt;占比&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;0 (未知错误)&lt;/td&gt;&#xA;          &lt;td&gt;94.474%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;-1001 (网络错误-TimedOut)&lt;/td&gt;&#xA;          &lt;td&gt;3.226%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;4097 (苹果内部XPC通信异常)&lt;/td&gt;&#xA;          &lt;td&gt;1.017%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;-1005 (网络错误-NetworkConnectionLost)&lt;/td&gt;&#xA;          &lt;td&gt;0.598%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;-1009 (网络错误-NotConnectedToInternet)&lt;/td&gt;&#xA;          &lt;td&gt;0.205%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;-1200 (网络错误-SSL errors)&lt;/td&gt;&#xA;          &lt;td&gt;0.117%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;-1003 (网络错误-Cannt find host)&lt;/td&gt;&#xA;          &lt;td&gt;0.135%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;p&gt;假设，未知错误也属于网络错误，那么就不由得让人萌发一个单纯又美好的愿望，是不是可以在应用本地起一个代理，劫持所有的网络流量重定向一个稳定的后台服务上，由这个后台服务作为中间人跟苹果后台交互，这样不就解决了用户直连苹果服务器经常链接失败的问题了吗？但是很可惜，苹果应该有一种机制去识别代理发出的请求，如果走代理就会支付失败。既然这条路走不通，那是否可以进一步分析错误码本身？苹果在最近几个版本，开始支持第三层错误码的提示:&lt;/p&gt;&#xA;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;//&amp;ensp;原错误信息&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;支付失败:&amp;ensp;error:&amp;ensp;Error&amp;ensp;Domain=SKErrorDomain&amp;ensp;Code=0&amp;ensp;&amp;#34;发生未知错误&amp;#34;&amp;ensp;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;UserInfo={NSLocalizedDescription=发生未知错误,&amp;ensp;NSUnderlyingError=0x282528150&amp;ensp;{Error&amp;ensp;Domain=ASDServerErrorDomain&amp;ensp;Code=3532&amp;ensp;&amp;#34;您目前已订阅此项目&amp;#34;&amp;ensp;UserInfo={NSLocalizedDescription=您目前已订阅此项目}}}，&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;//&amp;ensp;内层错误码&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;errorInfo:&amp;ensp;{&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;resultCode&amp;ensp;=&amp;ensp;4;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;resultInnerCode&amp;ensp;=&amp;ensp;0;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;resultMsg&amp;ensp;=&amp;ensp;&amp;#34;Error&amp;ensp;Domain=SKErrorDomain&amp;ensp;Code=0&amp;ensp;\&amp;#34;\U53d1\U751f\U672a\U77e5\U9519\U8bef\&amp;#34;&amp;ensp;UserInfo={NSLocalizedDescription=\U53d1\U751f\U672a\U77e5\U9519\U8bef,&amp;ensp;NSUnderlyingError=0x282528150&amp;ensp;{Error&amp;ensp;Domain=ASDServerErrorDomain&amp;ensp;Code=3532&amp;ensp;\&amp;#34;\U60a8\U76ee\U524d\U5df2\U8ba2\U9605\U6b64\U9879\U76ee\&amp;#34;&amp;ensp;UserInfo={NSLocalizedDescription=\U60a8\U76ee\U524d\U5df2\U8ba2\U9605\U6b64\U9879\U76ee}}}&amp;#34;;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;workingStep&amp;ensp;=&amp;ensp;6;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;所以iAP支付类的错误，我们就可以获取到&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;resultCode = 4&lt;/li&gt;&#xA;&lt;li&gt;resultInnerCode = 0&lt;/li&gt;&#xA;&lt;li&gt;resultMsg-&amp;gt;NSErrorDomainCode = 3532&lt;/li&gt;&#xA;&lt;li&gt;NSLocalizedDescription = (您目前已订阅此项目)\U60a8\U76ee\U524d\U5df2\U8ba2\U9605\U6b64\U9879\U76ee&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;相比之前的&lt;code&gt;发生未知错误&lt;/code&gt;，更清晰了，那么针对这部分的错误码，我们可以进一步的给出用户对应的提示，或者给出苹果官方的解决方案：&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;&lt;strong&gt;code&lt;/strong&gt;&lt;/th&gt;&#xA;          &lt;th&gt;&lt;strong&gt;错误原因&lt;/strong&gt;&lt;/th&gt;&#xA;          &lt;th&gt;&lt;strong&gt;解决方案&lt;/strong&gt;&lt;/th&gt;&#xA;          &lt;th&gt;&lt;strong&gt;占比&lt;/strong&gt;&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;0&lt;/td&gt;&#xA;          &lt;td&gt;未知错误&lt;/td&gt;&#xA;          &lt;td&gt;无法解决&lt;/td&gt;&#xA;          &lt;td&gt;74.521%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;3029&lt;/td&gt;&#xA;          &lt;td&gt;需要付款信息&lt;/td&gt;&#xA;          &lt;td&gt;&lt;a href=&#34;https://support.apple.com/en-us/HT201266&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://support.apple.com/en-us/HT201266&lt;/a&gt;&lt;/td&gt;&#xA;          &lt;td&gt;20.128%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;2024&lt;/td&gt;&#xA;          &lt;td&gt;需要验证&lt;/td&gt;&#xA;          &lt;td&gt;&lt;a href=&#34;https://macreports.com/app-store-says-verification-required-for-free-apps-how-to-fix/&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://macreports.com/app-store-says-verification-required-for-free-apps-how-to-fix/&lt;/a&gt;&lt;/td&gt;&#xA;          &lt;td&gt;2.648%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;2005&lt;/td&gt;&#xA;          &lt;td&gt;无法完成付款&lt;/td&gt;&#xA;          &lt;td&gt;&lt;a href=&#34;https://support.apple.com/en-us/HT203005&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://support.apple.com/en-us/HT203005&lt;/a&gt;&lt;/td&gt;&#xA;          &lt;td&gt;2.537%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;3014&lt;/td&gt;&#xA;          &lt;td&gt;商店信用余额不足&lt;/td&gt;&#xA;          &lt;td&gt;&lt;a href=&#34;https://discussions.apple.com/thread/251238288&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://discussions.apple.com/thread/251238288&lt;/a&gt;&lt;/td&gt;&#xA;          &lt;td&gt;0.066%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;2022&lt;/td&gt;&#xA;          &lt;td&gt;你以前某次购物时存在帐单问题。&lt;/td&gt;&#xA;          &lt;td&gt;&lt;a href=&#34;https://discussions.apple.com/thread/7828949&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://discussions.apple.com/thread/7828949&lt;/a&gt;&lt;/td&gt;&#xA;          &lt;td&gt;0.048%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;3038&lt;/td&gt;&#xA;          &lt;td&gt;Apple 媒体服务条款与条件已更改。&lt;/td&gt;&#xA;          &lt;td&gt;&lt;a href=&#34;https://discussions.apple.com/thread/253556197&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://discussions.apple.com/thread/253556197&lt;/a&gt;&lt;/td&gt;&#xA;          &lt;td&gt;0.046%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;3750&lt;/td&gt;&#xA;          &lt;td&gt;Add a new payment method&lt;/td&gt;&#xA;          &lt;td&gt;&lt;a href=&#34;https://support.apple.com/en-us/HT201266&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://support.apple.com/en-us/HT201266&lt;/a&gt;&lt;/td&gt;&#xA;          &lt;td&gt;0.009%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;3751&lt;/td&gt;&#xA;          &lt;td&gt;新增付款方式&lt;/td&gt;&#xA;          &lt;td&gt;&lt;a href=&#34;https://support.apple.com/en-us/HT201266&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://support.apple.com/en-us/HT201266&lt;/a&gt;&lt;/td&gt;&#xA;          &lt;td&gt;0.002%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;2006&lt;/td&gt;&#xA;          &lt;td&gt;付款方式被拒&lt;/td&gt;&#xA;          &lt;td&gt;&lt;a href=&#34;https://support.apple.com/en-us/HT203005&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://support.apple.com/en-us/HT203005&lt;/a&gt;&lt;/td&gt;&#xA;          &lt;td&gt;0.001%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;3705&lt;/td&gt;&#xA;          &lt;td&gt;要求准许&lt;/td&gt;&#xA;          &lt;td&gt;&lt;a href=&#34;https://macreports.com/app-store-says-verification-required-for-free-apps-how-to-fix/&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://macreports.com/app-store-says-verification-required-for-free-apps-how-to-fix/&lt;/a&gt;&lt;/td&gt;&#xA;          &lt;td&gt;0.001%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;2011&lt;/td&gt;&#xA;          &lt;td&gt;Payment information is required to continue purchasing.&lt;/td&gt;&#xA;          &lt;td&gt;&lt;a href=&#34;https://support.apple.com/en-us/HT201266&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://support.apple.com/en-us/HT201266&lt;/a&gt;&lt;/td&gt;&#xA;          &lt;td&gt;0.000%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;p&gt;不过，从上文仍然可以看出，未知错误，也就是网络原因导致的错误占比仍然是最大的，这仍需要苹果进一步的优化自己的服务器才能解决了。&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;既然此路不通，那就另寻他法&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;苹果在22年更新的Apple Review Guide Lines 增加了一条&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;**3.1.3 其他购买方式：**以下 App 可以使用 App 内购买项目以外的购买方式。除非符合 3.1.3(a) 中规定的情况，否则此部分中的 App 不得在 App 内鼓励用户使用 App 内购买项目以外的购买方式。开发者可以在 App 之外向其用户群发送宣传材料，以介绍 App 内购买项目以外的购买方式。&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://developer.apple.com/cn/app-store/review/guidelines/#other-purchase-methods&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;Apple Review Guide Lines 3.2.1&lt;/a&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;在App外部提供购买方式的渠道有下面几种，下面说一下这几种方式的利弊&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;邮件，国内不常用，国内大部分用户也没有绑定邮箱&lt;/li&gt;&#xA;&lt;li&gt;短信，需要用户绑定手机号，并且发短信有一些成本，单条短信成本在2分-1毛之间&lt;/li&gt;&#xA;&lt;li&gt;微信/QQ 公众号，需要用户关注，并且登录态绑定&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h4 class=&#34;heading-element&#34; id=&#34;取消支付&#34;&gt;&lt;span&gt;取消支付&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e5%8f%96%e6%b6%88%e6%94%af%e4%bb%98&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h4&gt;&lt;p&gt;通常针对取消支付的都会采用一个弹窗询问用户是否真正要取消，这个弹窗的效果通常一般，转化率也比较低。有部分的App如抖音，采用了短信的方式推送端外支付方式，这样则是把取消支付认为是支付异常的一部分。另一种是类似于曹操专车，会在用户取消的时候询问用户为什么取消，通过收集用户的反馈来不断改善用户体验。我目前采用的是第二种方式，也确实从中收集到一些问题，用户的主要反馈分布如下：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/iap/10.png&#39; alt=&#34;render&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;从用户的反馈，也可以看出一些优化的方法，比如提供折扣优惠，或者支持第三方的支付渠道。&lt;/p&gt;&#xA;&lt;h4 class=&#34;heading-element&#34; id=&#34;杀进程&#34;&gt;&lt;span&gt;杀进程&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e6%9d%80%e8%bf%9b%e7%a8%8b&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h4&gt;&lt;p&gt;在分析数据的过程中，最开始总有一部分缺失的数据:&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/iap/11.png&#39; alt=&#34;render&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;经过分析发现，除了上面的成功、失败、取消三种状态，还有一部分会杀进程导致App没有收到底层支付SDK的回调。这背后的原因要回到几年前，刚刚设计支付体验的时候，大部分的App都会在用户发起支付的时候，拉起一个全屏的蒙层，或者是菊花图在屏幕中间转啊转，但是此时用户没有办法终止这个流程，只能等待苹果的支付回调回来，才能决定是否继续支付，还是取消。但是还是由于苹果服务器的原因，这个过程有时候会相当的长，不愿意等待的用户会尝试通过杀进程的方式来中断这个支付流程。这部分的用户占比大概有5%左右，可以说是相当多了。要优化这个，可以把全屏的阻断交互去掉。这部分的提升可以这样估算：&lt;/p&gt;&#xA;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;提升比例&amp;ensp;=&amp;ensp;总转化率&amp;ensp;-&amp;ensp;杀进程后当日仍然购买成功用户比例&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 class=&#34;heading-element&#34; id=&#34;三增加流量&#34;&gt;&lt;span&gt;三、增加流量&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%b8%89%e5%a2%9e%e5%8a%a0%e6%b5%81%e9%87%8f&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;要优化支付链路，降低损耗是可以增加利润，但是如果目标更高，还需要通过进一步的提升天花板，笔者之前参与的一个企业内部培训分享为这个问题提供了三种解决办法：&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;客户端打法：&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;卖给更多用户&lt;/strong&gt;——比如通过铺量、降价来提高口碑。如果反应到会员业务，就可以看到会有比如首充优惠，升级优惠等策略；&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;卖给用户更多&lt;/strong&gt;——如通过交叉销售，精准推荐，从而挖掘潜在的需求。比如现在很多平台都提供的联合会员策略，或者是更多的增加会员的权益；&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;卖给更好的用户&lt;/strong&gt;——通过细分用户群体，来采用不同的营销策略。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;市场端打法：&#xA;&lt;ul&gt;&#xA;&lt;li&gt;走出去，扩大市场，寻找新的空间&lt;/li&gt;&#xA;&lt;li&gt;扎下去，消费下沉，比如拼多多从一二线到四五线&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;新业务：&#xA;&lt;ul&gt;&#xA;&lt;li&gt;相关的多元化，研究上下游的商机，增加品类&lt;/li&gt;&#xA;&lt;li&gt;非相关的多元化，研究主业之外的业务&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;用户流失率&#34;&gt;&lt;span&gt;用户流失率&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e7%94%a8%e6%88%b7%e6%b5%81%e5%a4%b1%e7%8e%87&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;对于技术侧而言，增加流量的还是要从降低损耗开始着手。以下面这张图举例：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/iap/07.png&#39; alt=&#34;render&#34;&gt;&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;图3用户点击立即开通按钮，到图4用户支付开通会员，是我们上述的支付转化。&lt;/li&gt;&#xA;&lt;li&gt;如果以图3的页面曝光为起点，到图4用户支付成功，则是通常产品同学采用的曝光转化。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;但是如果在图1加载到图2的过程中，用户退出了页面，那么这部分的损耗就统计不到了。从真实的情况来看，这部分的损耗并不低，在某些页面可以达到13%。如何提升页面打开的次数，提升曝光，也同样是增加流量的措施之一。从前文说道的曝光转化率公式也可以变形一下：&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;支付成功人数 = 营销页面曝光数 * 支付转化率&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;也可以看出，提升营销页面的曝光数，也是可以提升支付成功的人数的。另外，其实通过常识我们也知道，打开页面的速度越快，用户就越不容易流失&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;As per the report, the poor performance of the website will negatively affect business goals. Therefore, as per this statement by &lt;a href=&#34;https://www.creativebloq.com/features/how-the-bbc-builds-websites-that-scale?ref=hackernoon.com&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;BBC&lt;/a&gt;, they lost around 10% of users for every additional second their website took to load. Hence, it’s advisable to leverage comprehensive JavaScript development prowess to power up your business.&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://hackernoon.com/how-to-improve-website-and-rendering-speed-with-javascript-code-optimization-l4y3711&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;how-to-improve-website-and-rendering-speed-with-javascript-code-optimization&lt;/a&gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;比如上面这一篇文章引述BBC的页面每多加载1s就会额外损失10%的用户，针对这个问题，并没有实际的准则，每一个业务应该建立自己的观测指标，比如针对会员开通相关的页面计算出的流失率如下：&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;用户流失率&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;COUNT(Android_用户流失率)&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;用户正常打开页面&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;87.436%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;用户正常打开错误&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;5.423% （主要是网络不好）&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;用户流失，等待时间小于1秒&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;0.928%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;用户流失，等待时间在1 ～ 2秒&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;2.077%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;用户流失，等待时间在2 ～ 5秒&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;2.599%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;用户流失，等待时间在5 ～ 10秒&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;1.003%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;用户流失，等待时间大于10秒&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;0.535%&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;p&gt;从上面的表格可以发现两点：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;等待时间与流失率在小于5s的阶段成正比，但是超过5s之后又成反比&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;如果等待时间小于1s，也许误触导致进入的用户来不及退出，而等待时间越长的用户，是真正有耐心等待的用户。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;应该减少由于网络原因导致的页面打开错误，避免用户加载失败&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;优化用户流失率&#34;&gt;&lt;span&gt;优化用户流失率&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%bc%98%e5%8c%96%e7%94%a8%e6%88%b7%e6%b5%81%e5%a4%b1%e7%8e%87&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;我所在的App的会员开通页、活动页面等目前主要技术栈仍以Web为主，Web页面的打开表现，依赖于客户端、页面、服务器三个角色互相配合。所以在优化上，我们也针对性的分析解决每一个影响页面打开速度的问题：&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;角色&lt;/th&gt;&#xA;          &lt;th&gt;影响页面打开速度的原因&lt;/th&gt;&#xA;          &lt;th&gt;优化措施&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;终端&lt;/td&gt;&#xA;          &lt;td&gt;低端机Webview的容器/内核加载时间过长，请求页面的时候网络环境差&lt;/td&gt;&#xA;          &lt;td&gt;预加载Webview容器/内核，渐进式加载、降低用户等待预期&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;页面&lt;/td&gt;&#xA;          &lt;td&gt;页面请求内容多，CSS体积大，图片过大&amp;hellip;&lt;/td&gt;&#xA;          &lt;td&gt;合并请求、提及优化、按需异步，SSR&amp;hellip;&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;服务器&lt;/td&gt;&#xA;          &lt;td&gt;服务器响应速度慢&lt;/td&gt;&#xA;          &lt;td&gt;cgi拆分，降低RTT&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;p&gt;但是，虽然页面跟服务器之间的交互可以优化到一个理想的状态，也可以通过预加载把Webview内核的加载耗时降低到0（安卓高低端机的性能差距大，Webview的内核加载耗时最长时就已经超过了1s），但是由于用户的网络环境复杂，无法统一，这就导致了传统的优化方案到了瓶颈，需要用其他办法才能进一步优化。&lt;/p&gt;&#xA;&lt;h4 class=&#34;heading-element&#34; id=&#34;离线包方案sonic&#34;&gt;&lt;span&gt;离线包方案：Sonic&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e7%a6%bb%e7%ba%bf%e5%8c%85%e6%96%b9%e6%a1%88sonic&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h4&gt;&lt;p&gt;换一个思路来想，如果页面是缓存好的，就无需关注用户的网络环境了，这个方案的核心在于，当页面在加载的过程中，客户端需要拦截页面的请求，如果发现当前已经有缓存页面，那么就直接给Web去渲染，提升首屏的速度。&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/iap/08.png&#39; alt=&#34;SSR&amp;#43;VasSonic流程&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;采用这个方案后，以安卓端为例，用户流失率从24.27%降低到了11.591%，提升了约12.6%，效果比较明显。针对Web的优化，除此之外还有比如Webview的缓存池优化、js压缩优化、缓存命中率优化等措施，由于篇幅的原因不在这里展开。&lt;/p&gt;&#xA;&lt;h2 class=&#34;heading-element&#34; id=&#34;总结&#34;&gt;&lt;span&gt;总结&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e6%80%bb%e7%bb%93&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/iap/12.jpg&#39; alt=&#34;moneyball&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;2011年有一个电影叫做&lt;strong&gt;MoneyBall&lt;/strong&gt;，中文名翻译为&lt;strong&gt;点球成金&lt;/strong&gt;，讲述了由布拉德·皮特主演的比利·比恩带领的奥克兰运动家队，在认识了耶鲁大学经济学硕士彼得（上图右）后，掌握了破解职业棒球联赛的金钥匙——通过数据分析来改变球队运营的策略，用数学建模的方式，选用能得分的球员而不仅仅是球探，最终，领导球队获得了历史上最长连胜的故事。&lt;/p&gt;&#xA;&lt;p&gt;之所以分享这部电影，是想说明在整个支付链路优化的过程中，数据与指标，它们对技术优化的重要性就像电影里面破解棒球联赛的金钥匙一样重要。数据可以帮助你更深入的理解支付链路损耗背后的原因，而新定义的指标，如用户流失率，杀进程率等，可以帮助你找到新的解决办法。&lt;/p&gt;&#xA;</description>
    </item>
    <item>
      <title>CVPixelbuffer与Flutter外接纹理</title>
      <link>https://www.yingxinsong.com/post/cvpixelbuffer/</link>
      <pubDate>Fri, 18 Mar 2022 16:39:41 +0800</pubDate>
      <guid>https://www.yingxinsong.com/post/cvpixelbuffer/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;A Core Video pixel buffer is an image buffer that holds pixels in main memory. Applications generating frames, compressing or decompressing video, or using Core Image can all make use of Core Video pixel buffers.&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h2 class=&#34;heading-element&#34; id=&#34;背景&#34;&gt;&lt;span&gt;背景&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e8%83%8c%e6%99%af&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;最近遇到一个问题，如何把一个&lt;code&gt;mp4&lt;/code&gt;格式的灰度视频后处理上色后再给到Flutter渲染？&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/cvpixel/01.jpeg&#39; alt=&#34;img1&#34;&gt;&#xA;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/cvpixel/02.jpeg&#39; alt=&#34;img2&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;先来看一下整体的流程：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/cvpixel/07.png&#39; alt=&#34;render&#34;&gt;&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;首先无论我们使用哪一种解码器，通常来说&lt;code&gt;mp4&lt;/code&gt;格式的视频都会解码成YUV数据;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;下一步就是要把解码后的视频帧提交给后处理模块，如果后处理模块可以接受YUV数据，则可以直接提交，我这边因为使用的后处理模块不支持YUV，所以要先把YUV转成BGRA；&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;下一步后处理模块就可以开始对视频做上色处理了，这里通常会提交GPU去渲染，对于iOS来说，目前比较常用的是用openGL渲染管线，或者是Metal；&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;经过后处理模块处理后，原视频帧会被上色，最终渲染到GPU的缓冲区，一般来说，对于Native类的应用，到目前就可以正常把处理后的视频渲染上屏了；&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;但是因为我们的目标是渲染到Flutter，所以还需要把上一步拿到的纹理从GPU读出来，交给Flutter，把纹理读到CPU，我们需要使用&lt;code&gt;CVPixelBuffer&lt;/code&gt;缓存纹理数据；&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Flutter侧接入外接纹理，有两个步骤：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;在Flutter的渲染引擎光栅化之前，把我们准备好的数据提交给Flutter，这一步需要事先注册好纹理ID，这个纹理ID对应Flutter侧的TextureLayer；&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;在Flutter引擎对图层做光栅化之前，提交纹理数据，提交的纹理数据会提交给到Skia的Canvas，然后Flutter会通过统一的GraphicShell来提交渲染上屏&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/cvpixel/06.png&#39; alt=&#34;render&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;看完这个流程，如果是对这类应用熟悉一点的同学就已经可以发现两个优化点了，但是因为这并不在本文着重的范畴内，所以先给出解答&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;第二步如果直接使用YUV的数据做视频后处理可以减少一次图像处理与拷贝；&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;这里是主要是因为后处理模块暂不支持，后面可以考虑作为优化选项&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Flutter外接纹理如果支持直接GPU读纹理，则可以省去后面GPU-&amp;gt;CPU-&amp;gt;GPU的拷贝。&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;对于Flutter来说，Graphic Shell是图形引擎上抽象的一层，此处设计为传纹理数据而不是直接传纹理ID，我猜测是因为底层的图形引擎是可能会变化的，今天是openGL，明天就有可能用Metal,使用CVPixelBufferCopy的方式，可以保证灵活性，但是性能确实堪忧。这部分在&lt;a href=&#34;https://cloud.tencent.com/developer/article/1687997&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;这篇文章&lt;/a&gt;也有补充阐述优化的方案&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h2 class=&#34;heading-element&#34; id=&#34;遇到的问题&#34;&gt;&lt;span&gt;遇到的问题&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e9%81%87%e5%88%b0%e7%9a%84%e9%97%ae%e9%a2%98&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h2&gt;&lt;p&gt;在实现上述方案的过程中，总不是一帆风顺，这也促成了我想写本文的原因，如果有同样的踩坑的人，希望能节省大家的一些时间&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;一-yuv-如何转bgra&#34;&gt;&lt;span&gt;一 、YUV 如何转BGRA&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%b8%80-yuv-%e5%a6%82%e4%bd%95%e8%bd%acbgra&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;这一步虽然没有做，但是仍然值得探究一下，下面给出两个方案：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;逐像素转换，YUV在存储上有YUV420、YUV422等几种格式，我们可以根据以下公式逐像素转换到对应的Bitmap里，具体公式如下：&lt;/p&gt;&#xA;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-mathematica&#34; data-lang=&#34;mathematica&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;1.164&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Y&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;2.018&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;U&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;128&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;G&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;1.164&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Y&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.813&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;128&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.391&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;U&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;128&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;1.164&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Y&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;1.596&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;128&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;这个方式的问题在于效率较低。&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;使用SIMD等硬件加速或者是利用GPU来转换，SIMD的代表方式是使用v_Image , 利用GPU则可以使用图形管线来实现，下面给出两个参考实现：&lt;/p&gt;&#xA;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-glsl&#34; data-lang=&#34;glsl&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;//&amp;ensp;使用GLSL&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;varying&lt;/span&gt;&amp;ensp;&lt;span class=&#34;k&#34;&gt;mediump&lt;/span&gt;&amp;ensp;&lt;span class=&#34;k&#34;&gt;vec2&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;textureCoordinate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;uniform&lt;/span&gt;&amp;ensp;&lt;span class=&#34;k&#34;&gt;sampler2D&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;inputImageTexture&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;void&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;k&#34;&gt;mediump&lt;/span&gt;&amp;ensp;&lt;span class=&#34;k&#34;&gt;vec3&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;yuv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;k&#34;&gt;mediump&lt;/span&gt;&amp;ensp;&lt;span class=&#34;k&#34;&gt;vec3&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;n&#34;&gt;yuv&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;texture2D&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;inputImageTexture&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;textureCoordinate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rgb&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&amp;ensp;&lt;span class=&#34;k&#34;&gt;vec3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;16.0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;255.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;mf&#34;&gt;0.5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;mf&#34;&gt;0.5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;n&#34;&gt;rgb&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;mat3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;1.164&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;mf&#34;&gt;1.164&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;mf&#34;&gt;1.164&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;mo&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;.392&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;mf&#34;&gt;2.017&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;mf&#34;&gt;1.596&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;.813&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mo&#34;&gt;0&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;yuv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;n&#34;&gt;gl_FragColor&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;ensp;&lt;span class=&#34;k&#34;&gt;vec4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rgb&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-objective-c&#34; data-lang=&#34;objective-c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;//使用v_Image&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nl&#34;&gt;https&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//gist.github.com/noppefoxwolf/26967db43fdd87662f37d2f73c863eb9&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;这个链接给出一个参考实现&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;二如何正确的创建与拷贝cvpixelbuffer&#34;&gt;&lt;span&gt;二、如何正确的创建与拷贝CVPixelBuffer&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%ba%8c%e5%a6%82%e4%bd%95%e6%ad%a3%e7%a1%ae%e7%9a%84%e5%88%9b%e5%bb%ba%e4%b8%8e%e6%8b%b7%e8%b4%9dcvpixelbuffer&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;在拿到原始的BGRA数据后，下一步是要把他转换为CVPixelBuffer，可选的方法有两个，一个是使用CVPixelBufferCreateWithBytes、另一个是CVPixelBufferCreate。在这里遇到两个问题&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;strong&gt;使用CVPixelBufferCreateWithBytes创建的纹理显示正确，但是后续无法映射到GPU纹理，系统报错error -6683，也无法提交到Flutter渲染&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;这个问题的原因是要创建GPU可访问的纹理，必须要设置支持IOSurface可访问。&lt;a href=&#34;https://developer.apple.com/library/archive/qa/qa1781/_index.html&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;这篇文档&lt;/a&gt;对这个问题做了初步的解释。&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;Share hardware-accelerated buffer data (framebuffers and textures) across multiple processes. Manage image memory more efficiently.&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;关于IOSurface，来自官方的解释是为了更高效的管理图像处理的内存，在多个Process之间共享纹理数据与帧缓冲数据。在这里的多个Process，我认为可以理解为在CPU跟GPU之间的共享。换句话说，支持IOSurface的纹理数据，在CPU访问的时候不会发生内存拷贝，这对可以极大的提升性能。&lt;/p&gt;&#xA;&lt;p&gt;这时我们可以看一下Flutter处理外接纹理的代码：&lt;/p&gt;&#xA;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;IOSExternalTextureGL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CreateTextureFromPixelBuffer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&lt;span class=&#34;n&#34;&gt;CVOpenGLESTextureRef&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;texture&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&lt;span class=&#34;n&#34;&gt;CVReturn&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;err&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;CVOpenGLESTextureCacheCreateTextureFromImage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;n&#34;&gt;kCFAllocatorDefault&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;cache_ref_&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;buffer_ref_&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;k&#34;&gt;nullptr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;GL_TEXTURE_2D&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;GL_RGBA&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;k&#34;&gt;static_cast&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CVPixelBufferGetWidth&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;buffer_ref_&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;k&#34;&gt;static_cast&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CVPixelBufferGetHeight&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;buffer_ref_&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;GL_BGRA&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;GL_UNSIGNED_BYTE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;texture&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;err&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;noErr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;n&#34;&gt;FML_LOG&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;WARNING&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&amp;ensp;&lt;span class=&#34;s&#34;&gt;&amp;#34;Could&amp;ensp;not&amp;ensp;create&amp;ensp;texture&amp;ensp;from&amp;ensp;pixel&amp;ensp;buffer:&amp;ensp;&amp;#34;&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&amp;ensp;&lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;n&#34;&gt;texture_ref_&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Reset&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;texture&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;这里的CVOpenGLESTextureCacheCreateTextureFromImage所创建的纹理就是直接映射到我们创建的CVPixebuffer的。&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;strong&gt;CVPixelBufferCreate创建的纹理显示不正确，出现花屏&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/cvpixel/05.png&#39; alt=&#34;5&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;使用CVPixelBufferCreate创建的纹理，需要手动获取基地址，然后把图像数据拷贝进去。在这之前，我们先设置好pixelbuffer的属性：&lt;/p&gt;&#xA;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-objective-c&#34; data-lang=&#34;objective-c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;NSDictionary&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pixelBufferAttributes&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;ensp;&lt;span class=&#34;l&#34;&gt;@{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;__bridge&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;NSString&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;nl&#34;&gt;kCVPixelBufferPixelFormatTypeKey&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&amp;ensp;&lt;span class=&#34;l&#34;&gt;@(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;kCVPixelFormatType_32BGRA&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;c1&#34;&gt;//&amp;ensp;设置为BGRA格式&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;__bridge&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;NSString&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;nl&#34;&gt;kCVPixelBufferWidthKey&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&amp;ensp;&lt;span class=&#34;l&#34;&gt;@(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;c1&#34;&gt;//&amp;ensp;图像宽度&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;__bridge&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;NSString&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;nl&#34;&gt;kCVPixelBufferHeightKey&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&amp;ensp;&lt;span class=&#34;l&#34;&gt;@(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;c1&#34;&gt;//&amp;ensp;图像高度&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;__bridge&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;NSString&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;nl&#34;&gt;kCVPixelBufferIOSurfacePropertiesKey&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&amp;ensp;&lt;span class=&#34;l&#34;&gt;@{}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;c1&#34;&gt;//&amp;ensp;IOSurface-backed&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;__bridge&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;NSString&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;nl&#34;&gt;kCVPixelBufferMetalCompatibilityKey&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&amp;ensp;&lt;span class=&#34;m&#34;&gt;@YES&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;c1&#34;&gt;//&amp;ensp;Metal&amp;ensp;可访问&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;cp&#34;&gt;#if&amp;ensp;TARGET_OS_IPHONE&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;__bridge&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;NSString&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;nl&#34;&gt;kCVPixelBufferOpenGLESCompatibilityKey&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&amp;ensp;&lt;span class=&#34;m&#34;&gt;@YES&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;c1&#34;&gt;//&amp;ensp;OpenGL可访问&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;cp&#34;&gt;#endif&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;l&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;然后就可以开始创建CVPixelBuffer:&lt;/p&gt;&#xA;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-objc&#34; data-lang=&#34;objc&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;CVPixelBufferRef&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;pixelbuffer&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;ensp;&lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;CVPixelBufferCreate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;kCFAllocatorDefault&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;n&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;n&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;n&#34;&gt;kCVPixelFormatType_32BGRA&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;__bridge&lt;/span&gt;&amp;ensp;&amp;ensp;&lt;span class=&#34;n&#34;&gt;CFDictionaryRef&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pixelBufferAttributes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pixelbuffer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;在这一步后面，直接把原始的BGRA拷贝进去，就会出现上面的花屏问题。原因是因为iOS要求图像宽度必须能被16整除，那么如果我们传入一个1080的图像，他实际在内存中的宽度为1088。所以，我们需要按照图像可对其的方式去拷贝：&lt;/p&gt;&#xA;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;static&lt;/span&gt;&amp;ensp;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&amp;ensp;&lt;span class=&#34;nf&#34;&gt;copyImagePlane&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint8_t&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dst&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;dstLinesize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;kt&#34;&gt;uint8_t&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;srcLinesize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;bytewidth&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dst&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;||&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dstLinesize&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;bytewidth&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;||&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;srcLinesize&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;bytewidth&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;(;&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;height&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&amp;ensp;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;nf&#34;&gt;memcpy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dst&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;bytewidth&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;n&#34;&gt;dst&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;dstLinesize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;n&#34;&gt;src&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;srcLinesize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;这样就可以解决内存拷贝时不对齐的问题。&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;三如何把metal渲染的纹理转为cvpixelbuffer&#34;&gt;&lt;span&gt;三、如何把Metal渲染的纹理转为CVPixelBuffer&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%b8%89%e5%a6%82%e4%bd%95%e6%8a%8ametal%e6%b8%b2%e6%9f%93%e7%9a%84%e7%ba%b9%e7%90%86%e8%bd%ac%e4%b8%bacvpixelbuffer&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;Metal的目的之一，就是减少图形渲染管线在CPU的开销，并且能够在一次绘制指令提交尽可能多的任务。关于Metal的详细介绍可以查阅&lt;a href=&#34;https://developer.apple.com/library/archive/documentation/Miscellaneous/Conceptual/MetalProgrammingGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40014221-CH1-SW1&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;官方文档&lt;/a&gt;，此处并不赘述，下图给出Metal的渲染流水：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/cvpixel/03.png&#39; alt=&#34;3&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;由于我使用的后处理引擎是基于Metal实现的，所以这里就需要提取Metal纹理中的数据。通常来说，我们只需要把数据从GPU转移到CPU就可以了，此处可以考虑使用下面这个接口来做&lt;/p&gt;&#xA;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-objective-c&#34; data-lang=&#34;objective-c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/*!&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;&amp;ensp;@method&amp;ensp;getBytes:bytesPerRow:fromRegion:mipmapLevel:&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;&amp;ensp;@abstract&amp;ensp;Convenience&amp;ensp;for&amp;ensp;getBytes:bytesPerRow:bytesPerImage:fromRegion:mipmapLevel:slice:&amp;ensp;that&amp;ensp;doesn&amp;#39;t&amp;ensp;require&amp;ensp;slice&amp;ensp;related&amp;ensp;arguments&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;&amp;ensp;*/&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;getBytes:&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;pixelBytes&lt;/span&gt;&amp;ensp;&lt;span class=&#34;nf&#34;&gt;bytesPerRow:&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;NSUInteger&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;bytesPerRow&lt;/span&gt;&amp;ensp;&lt;span class=&#34;nf&#34;&gt;fromRegion:&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MTLRegion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;region&lt;/span&gt;&amp;ensp;&lt;span class=&#34;nf&#34;&gt;mipmapLevel:&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;NSUInteger&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;level&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;但是这里却不建议这么做，原因在于Metal在处理纹理数据的时候，为了性能以及带宽的优化，对纹理数据做了压缩，当用这个接口提取纹理数据时到内存中时，需要先把纹理做一次解压缩。解决办法有下面两个：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;把数据渲染到 MTLBuffer ，这样就可以直接通过 MTLBuffer的 contents 接口直接访问纹理数据了。MTLBuffer并不关心具体存储数据的类型与内容，只关注是数据的长度。&lt;/li&gt;&#xA;&lt;li&gt;设置 &lt;code&gt;allowGPUOptimizedContents&lt;/code&gt;属性为&lt;code&gt;&amp;ensp;NO&lt;/code&gt;，顾名思义，等于说为了CPU的访问友好，而舍弃GPU的性能。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;我使用了方案一之后，性能确实有所提升，但是数据却无法对其，始终有花屏，最后这个问题由于无法定位，舍弃了这个方案。&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/cvpixel/04.png&#39; alt=&#34;4&#34;&gt;&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;四使用-gpuimagerawdataoutput-做后处理&#34;&gt;&lt;span&gt;四、使用 GPUImageRawDataOutput 做后处理&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e5%9b%9b%e4%bd%bf%e7%94%a8-gpuimagerawdataoutput-%e5%81%9a%e5%90%8e%e5%a4%84%e7%90%86&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;思考一下，我们的目标是给灰度视频上色，支持自定义滤镜的GPUIMage也是一个选择。在花了比较多时间都无法解决上面的问题后，我尝试重新实现了一下这个滤镜，glsl的代码不难，这里不给出实现了。我们的重点在于拿出GPUImage渲染的纹理数据提交给Flutter渲染。在这里我们使用GPUImageRawDataOutput来实现：&lt;/p&gt;&#xA;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-objective-c&#34; data-lang=&#34;objective-c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;//&amp;ensp;传入原始的BGRA数据&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GPUImageRawDataInput&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;input&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;[[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GPUImageRawDataInput&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;alloc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&amp;ensp;&lt;span class=&#34;nl&#34;&gt;initWithBytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&amp;ensp;&lt;span class=&#34;nl&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CGSizeMake&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&amp;ensp;&lt;span class=&#34;nl&#34;&gt;pixelFormat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GPUPixelFormatBGRA&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;//&amp;ensp;创建滤镜&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ColorFillter&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;filter&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;[[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ColorFillter&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;alloc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;filter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;blackColor&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GPUVector3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.71&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;mf&#34;&gt;0.49&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;mf&#34;&gt;0.61&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;filter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;whiteColor&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GPUVector3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.56&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;mf&#34;&gt;0.56&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;mf&#34;&gt;0.69&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;input&lt;/span&gt;&amp;ensp;&lt;span class=&#34;nl&#34;&gt;addTarget&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;filter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;//&amp;ensp;创建BGRA输出&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GPUImageRawDataOutput&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;output&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;[[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GPUImageRawDataOutput&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;alloc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&amp;ensp;&lt;span class=&#34;nl&#34;&gt;initWithImageSize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CGSizeMake&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;nl&#34;&gt;resultsInBGRAFormat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;YES&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;filter&lt;/span&gt;&amp;ensp;&lt;span class=&#34;nl&#34;&gt;addTarget&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;output&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;filter&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;useNextFrameForImageCapture&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;//&amp;ensp;开始渲染&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;input&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;processData&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;output&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;lockFramebufferForReading&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;//&amp;ensp;读取创建的CVPixelBuffer基地址&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;uint8_t&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dstBuffer&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;uint8_t&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CVPixelBufferGetBaseAddress&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pixelbuffer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;//&amp;ensp;拷贝进去&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;memcpy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dstBuffer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;output&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rawBytesForImage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;output&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bytesPerRowInOutput&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;output&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;unlockFramebufferAfterReading&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 class=&#34;heading-element&#34; id=&#34;总结&#34;&gt;&lt;span&gt;总结&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e6%80%bb%e7%bb%93&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;原本想着只是一个简简单单的需求，但是却没有想到在图像在CPU-GPU之间拷贝的过程中遇到了不少问题，在问题的解决上，一方面建议多了解系统底层实现与原理，另一方面也要对图像格式，音视频处理更加熟悉。&lt;/p&gt;&#xA;</description>
    </item>
    <item>
      <title>2021年度总结</title>
      <link>https://www.yingxinsong.com/post/what-i-learned-from-2021/</link>
      <pubDate>Wed, 22 Dec 2021 16:19:08 +0800</pubDate>
      <guid>https://www.yingxinsong.com/post/what-i-learned-from-2021/</guid>
      <description>&lt;h3 class=&#34;heading-element&#34; id=&#34;如何做年终总结&#34;&gt;&lt;span&gt;如何做年终总结&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e5%a6%82%e4%bd%95%e5%81%9a%e5%b9%b4%e7%bb%88%e6%80%bb%e7%bb%93&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;最近几年特别流行年度盘点，音乐类的App会总结你听了多少歌，银行类的App会总结你收入支出多少，最牛的是本地生活类的App，会总结你点了多少次外卖。&#xA;个人行为越来越呈现数据化，人们也越来越在意自己的数字化形象。只要想一想就知道了，你到底花了多少时间在网络上？&#xA;还有一个短视频的流行与爆发，15s的视频彻底打碎人们的时间。&#xA;实际上这篇年度总结我也会打算用这种形式来写，也许每一句都会换一行。&#xA;也许更加容易接受。&#xA;也更加容易断章取义。&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;你没有晋升&#34;&gt;&lt;span&gt;你没有晋升&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%bd%a0%e6%b2%a1%e6%9c%89%e6%99%8b%e5%8d%87&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;是的，今年的你相比去年，无论是专业职级还是管理职级都保持平稳。&#xA;俗话说稳中有进，那也是稳字当头，所以，恭喜你！&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;别人口中的人生巅峰&#34;&gt;&lt;span&gt;别人口中的人生巅峰&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e5%88%ab%e4%ba%ba%e5%8f%a3%e4%b8%ad%e7%9a%84%e4%ba%ba%e7%94%9f%e5%b7%85%e5%b3%b0&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;一位培训老师说，一个男人的人生巅峰时刻是有车子，房子，孩子。&#xA;这一年，你都有了。&#xA;希望你不要满足，要知道人生就是一场修炼。&#xA;要记得你曾经立下的Flag, 永不退休。&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;你转岗了&#34;&gt;&lt;span&gt;你转岗了&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%bd%a0%e8%bd%ac%e5%b2%97%e4%ba%86&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;你的业务方向发生了变化，业务挑战与范围变小了。&#xA;你的技术方向发生了变化，从移动客户端+pc变成了移动客户端+Web。&#xA;你的团队组成发生了变化，居然全是骨干，要注意梯队。&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;你搭建了个人域名的博客&#34;&gt;&lt;span&gt;你搭建了个人域名的博客&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%bd%a0%e6%90%ad%e5%bb%ba%e4%ba%86%e4%b8%aa%e4%ba%ba%e5%9f%9f%e5%90%8d%e7%9a%84%e5%8d%9a%e5%ae%a2&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;在这个视频化的时代，说实话不知道为什么你要赶这个复古的潮流。&#xA;但是既然做了，希望你能坚持。&#xA;顺便祭奠过去那么多年不记得维护的各种博客们。&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;也许你更了解自己&#34;&gt;&lt;span&gt;也许你更了解自己&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%b9%9f%e8%ae%b8%e4%bd%a0%e6%9b%b4%e4%ba%86%e8%a7%a3%e8%87%aa%e5%b7%b1&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;今年的你花了更多时间思考人与人之间的关系，于此同时你也更了解自己要什么。希望懂得顺势而为的你，可以获得内心的平静。&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;你开始健身了&#34;&gt;&lt;span&gt;你开始健身了&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%bd%a0%e5%bc%80%e5%a7%8b%e5%81%a5%e8%ba%ab%e4%ba%86&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;以前最不喜欢去健身房的你，今年选择跟健身教练练习了两个月。也许，中年男人的标志就是开始健身吧。&#xA;既然开始了，就做到最好吧！&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;你感觉朋友变少了&#34;&gt;&lt;span&gt;你感觉朋友变少了&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%bd%a0%e6%84%9f%e8%a7%89%e6%9c%8b%e5%8f%8b%e5%8f%98%e5%b0%91%e4%ba%86&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;是的，也许是你的性格问题，身边的朋友好像越来越少了。他们都去哪里忙了呢？&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;你认为自己需要更加掌握独立开发的能力&#34;&gt;&lt;span&gt;你认为自己需要更加掌握独立开发的能力&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%bd%a0%e8%ae%a4%e4%b8%ba%e8%87%aa%e5%b7%b1%e9%9c%80%e8%a6%81%e6%9b%b4%e5%8a%a0%e6%8e%8c%e6%8f%a1%e7%8b%ac%e7%ab%8b%e5%bc%80%e5%8f%91%e7%9a%84%e8%83%bd%e5%8a%9b&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;如果你不能搞定每一个环节，那么凭什么认为自己是一个专家呢？志在成为专家的你，未来要做出更多自己的作品。&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;本年度最佳书籍&#34;&gt;&lt;span&gt;本年度最佳书籍&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e6%9c%ac%e5%b9%b4%e5%ba%a6%e6%9c%80%e4%bd%b3%e4%b9%a6%e7%b1%8d&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;《游戏引擎架构》当之无愧，通过这本书你学习到游戏开发的方方面面，虽然你并不会变成一个个游戏程序员，但是这本书也给你带来极大的启发。&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;你学到了什么&#34;&gt;&lt;span&gt;你学到了什么？&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%bd%a0%e5%ad%a6%e5%88%b0%e4%ba%86%e4%bb%80%e4%b9%88&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;你仍然没有办法一次把事情就做对了，所以，只能保持热情的不断投入到新的挫折中去，然后再里面体验跟成长。&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;对明年有什么期许&#34;&gt;&lt;span&gt;对明年有什么期许？&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e5%af%b9%e6%98%8e%e5%b9%b4%e6%9c%89%e4%bb%80%e4%b9%88%e6%9c%9f%e8%ae%b8&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;做好自己&lt;/p&gt;&#xA;</description>
    </item>
    <item>
      <title>直播中台搭建指南</title>
      <link>https://www.yingxinsong.com/post/build_live_center/</link>
      <pubDate>Thu, 02 Dec 2021 17:22:23 +0800</pubDate>
      <guid>https://www.yingxinsong.com/post/build_live_center/</guid>
      <description>&lt;h3 class=&#34;heading-element&#34; id=&#34;前言&#34;&gt;&lt;span&gt;前言&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e5%89%8d%e8%a8%80&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;自从头条搭上短视频这条快车道，做出了抖音这款风靡全世界的现象级产品。人们不禁都在想，他们到底用了什么技术？为什么头条能成功？其中不乏有神化创始人的，也有真的去探究背后的技术的。我身为所谓”竞争对手“公司的一份子，也不免常常被安利。其中听得最多的就是&amp;quot;中台&amp;quot;二字。&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;什么是中台&#34;&gt;&lt;span&gt;什么是中台&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%bb%80%e4%b9%88%e6%98%af%e4%b8%ad%e5%8f%b0&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;如果让我来回答这个问题，我觉得其实根本没有什么中台。所谓的中台概念，也只是软件开发过程中为了提速软件开发效率的产物之一，组件化，微服务等等概念，其目的都是为了减少软件开发过程中的重复劳动，降低试错成本。笔者大概在2013年的时候，就有接触过一篇很有意思的文章:&lt;a href=&#34;https://gist.github.com/chitchcock/1281611&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;Stevey&amp;rsquo;s Google Platforms Rant&lt;/a&gt;。作者喷了一大堆亚马逊的抉择是如何如何差，Google是如何如何好。到最后却反过来讲了亚马逊的平台做的如何好，以及杰夫贝佐斯竟然可以在软件领域也有先知卓见，搭建了亚马逊的平台。里面也有一些对微软，苹果的评价，相当有趣。&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;搭建直播中台&#34;&gt;&lt;span&gt;搭建直播中台&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e6%90%ad%e5%bb%ba%e7%9b%b4%e6%92%ad%e4%b8%ad%e5%8f%b0&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;虽然我并不认同这个概念，不过大概从19年底开始，部门内部的研发就开始出现各种搭建中台的声音，到现在也是不绝于耳。无论是什么业务，不管能不能真正的复用，先命名为XX中台，占个坑位。彼时我刚好转型独立负责一个产品的客户端开发，所以我也不能免俗，决定从负责的直播业务着手，搭建一款直播中台。&#xA;直播中台的目标，主要有两个：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;吃自己的狗粮&lt;/li&gt;&#xA;&lt;li&gt;支撑多个产品线&#xA;下面我从将从我的实践与我的反思两个方面来总结这部分的工作。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;直播中台实践--基础架构&#34;&gt;&lt;span&gt;直播中台实践 &amp;ndash; 基础架构&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e7%9b%b4%e6%92%ad%e4%b8%ad%e5%8f%b0%e5%ae%9e%e8%b7%b5--%e5%9f%ba%e7%a1%80%e6%9e%b6%e6%9e%84&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;首先放出整体的架构图：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/livecenter/1.png&#39; alt=&#34;直播中台架构&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;为了整体的业务尽可能的达到可复用性，首先我将整体的业务划分为五层，每一层组件与上层组件之间呈现单项依赖关系，这样做的好处就是可以做到最大程度的解耦。&lt;/p&gt;&#xA;&lt;h4 class=&#34;heading-element&#34; id=&#34;基础服务层&#34;&gt;&lt;span&gt;基础服务层&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e5%9f%ba%e7%a1%80%e6%9c%8d%e5%8a%a1%e5%b1%82&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h4&gt;&lt;p&gt;基础服务层分为两部分，与直播能力有关的如推拉流的SDK，美颜，伴奏处理等能力，可以抽象成跨平台的中间件，这部分的能力虽然与业务无关，但是最好还是在这上面封装一层抽象层。方便后续替换SDK。另外，在处理SDK的数据层面上，也最好使用原始数据。更理想一点，可以搭建一套自己的渲染流程。&#xA;这里需要注意的点，主要是需要处理好原始数据的兼容性。比如yuv数据在安卓机器上会存在按16位对其的问题。在对耳返的处理上，安卓也需要处理好硬件耳返与软件耳返的能力等。这些能力通常来说并不属于推拉流SDK，或者是美颜相关的业务。但是却可以做成基础能力。&lt;/p&gt;&#xA;&lt;h4 class=&#34;heading-element&#34; id=&#34;业务服务层&#34;&gt;&lt;span&gt;业务服务层&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%b8%9a%e5%8a%a1%e6%9c%8d%e5%8a%a1%e5%b1%82&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h4&gt;&lt;p&gt;业务服务层，是对直播间状态机的抽象。粗略划分有下面几类：&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;分类&lt;/th&gt;&#xA;          &lt;th&gt;服务&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;基础服务&lt;/td&gt;&#xA;          &lt;td&gt;进房流程、心跳、推拉流、美颜、IM信令、最小化、生命周期&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;基础业务服务&lt;/td&gt;&#xA;          &lt;td&gt;连麦、PK、清晰度切换 等基础玩法&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;扩展业务服务&lt;/td&gt;&#xA;          &lt;td&gt;红包、官方房间 等业务玩法&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;p&gt;直播业务的特点在于，相比于传统页面的CURD，直播业务的玩法往往有相当多的状态同步。业务服务层仅包含与业务后台状态同步相关的实现，记录业务状态的数据。原则上来说，这一层非常考验研发同学的抽象能力。举例来说，一个连麦业务与后台交互的状态可能有以下这些：&lt;/p&gt;&#xA;&lt;p&gt;连麦状态&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;未连麦&lt;/li&gt;&#xA;&lt;li&gt;等待队列中&lt;/li&gt;&#xA;&lt;li&gt;正在麦上，状态正常&lt;/li&gt;&#xA;&lt;li&gt;已同意上麦&lt;/li&gt;&#xA;&lt;li&gt;静音&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;对于后台业务来说，这几个状态位就已经足够了，因为后台只处理纯数据的轮转。一种办法就是我们如实的去实现这五个接口，依赖于使用组件的同学来消化五个接口的意义，由于前端的业务往往与UI交互相关，那么这部分的工作就不可避免的与UI代码互相耦合了。业务服务层的意义，就是要消化这部分的状态轮转，并提供可读性好的接口。上面的五个状态，可以根据业务需求转化出用户的操作，与后台的响应两部分接口。在协议上可以分为：&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;Action:&#xA;//&amp;ensp;用户&#xA;requestConnect();&#xA;cancelConnect();&#xA;stopConnect();&#xA;&#xA;//主播&#xA;acceptConncetRequest();&#xA;refuseConncetRequest();&#xA;muteUser();&#xA;kickoutUser();&#xA;&#xA;Listener:&#xA;//&amp;ensp;处理状态同步与一些异常事件&#xA;onUserConnectStatusUpdate(Status&amp;ensp;status);&#xA;onConncetTimeOut();&#xA;...&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;这样的抽象的好处有很多，如从纯状态的流程变为业务流程，业务可读性更好。统一管理了相关状态，可以有效避免状态同步到多个内存导致UI界面混乱的问题等。&lt;/p&gt;&#xA;&lt;h4 class=&#34;heading-element&#34; id=&#34;ui组件层&#34;&gt;&lt;span&gt;UI组件层&lt;/span&gt;&#xA;  &lt;a href=&#34;#ui%e7%bb%84%e4%bb%b6%e5%b1%82&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h4&gt;&lt;p&gt;UI组件采用MVVM中的 ViewModel 与 View 的思想。其中View作为纯粹的UI组件，只处理UI元素的布局。而实际的业务逻辑代码，则是交给ViewModel来实现。需要注意的是，ViewModel将直接使用业务服务层的数据，并把状态同步后的数据同步给View展示。起到了承上启下的作用。为了实现到纯粹的UI组件，ViewModel跟View之间的数据更新可以采用反射的方式来实现。比如iOS中可以使用ReactCocoa, 而安卓则可以使用 DataBinding 等技术。这一层要求整个数据的流动必须是单向流动的，并且都由业务服务层提供的接口来驱动&#xA;如下图：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/livecenter/4.png&#39; alt=&#34;数据流动&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;这样做有两点收益：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;纯UI的View因为不含任何业务逻辑，所以具备最大的可复用性，方便拆卸。&lt;/li&gt;&#xA;&lt;li&gt;可以针对相同UI实现不同的ViewModel来实现不同的业务逻辑，这样做的好处在于当有不同的房间类型的时候，方便替换数据源。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h4 class=&#34;heading-element&#34; id=&#34;业务装配层&#34;&gt;&lt;span&gt;业务装配层&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%b8%9a%e5%8a%a1%e8%a3%85%e9%85%8d%e5%b1%82&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h4&gt;&lt;p&gt;现在我们有了业务逻辑，有了UI，那么就可以针对不同的业务场景把直播房间搭建起来了。一种方式是你可以写重复的代码，但这显而易见不够灵活。另一个办法则是再实现一套业务装配层。这一层包含两个功能。一个是负责把UI组件层的 ViewModel 与业务服务层的服务接口事件绑定起来，另一个则是根据业务需求来做UI上的排版布局。&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/livecenter/5.png&#39; alt=&#34;业务装配&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;采用这种方式，不同的业务就可以按需加载自己的业务模块，实现到搭积木的效果了。但是实际上却不仅于此，如果我们考虑把业务模块与布局抽象成一个布局文件，类似于前端排版的css，那么我们甚至可以动态下发不同的直播间了。这个设想我们仅实现到搭建积木这一层，动态下发的能力因为后续我没有继续负责直播业务而没有继续推进。&lt;/p&gt;&#xA;&lt;h4 class=&#34;heading-element&#34; id=&#34;房间玩法&#34;&gt;&lt;span&gt;房间玩法&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e6%88%bf%e9%97%b4%e7%8e%a9%e6%b3%95&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h4&gt;&lt;p&gt;通过不同的业务逻辑搭建的不同直播间，其实也具备一定的可复用性。不过这部分其实不属于直播中台组件搭建的能力了，复用的是整个产品与视觉的设计。在某一些业务的场景也可以用到，比如手机QQ空间分为独立的App与手机QQ的结合版。那么如果这里功能完全一样，其实是可以同步的更新的。&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;直播中台实践--通信机制与生命周期&#34;&gt;&lt;span&gt;直播中台实践 &amp;ndash; 通信机制与生命周期&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e7%9b%b4%e6%92%ad%e4%b8%ad%e5%8f%b0%e5%ae%9e%e8%b7%b5--%e9%80%9a%e4%bf%a1%e6%9c%ba%e5%88%b6%e4%b8%8e%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;h4 class=&#34;heading-element&#34; id=&#34;通信机制&#34;&gt;&lt;span&gt;通信机制&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e9%80%9a%e4%bf%a1%e6%9c%ba%e5%88%b6&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h4&gt;&lt;p&gt;对业务做好分层隔离之后，下一个需要解决的是模块之间的协同问题。设想在业务服务层有模块A，想要与业务模块B通信。一种方式是通过上图的数据流动的方式，数据先向上流动，然后再由具体的业务ViewModel来消化。这样虽然可以解决业务模块之间纯粹的隔离，但是如果是IM模块，或者是进房事件这种关键模块，则不适用这种场景。因此可以设计一种事件总线的机制来做分发：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/livecenter/3.png&#39; alt=&#34;事件总线&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;这样做的好处有下面几个：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;每一个模块可以根据总线事件，自行选择加载或者不加载&lt;/li&gt;&#xA;&lt;li&gt;模块之间互相没有依赖，在进房时可以并行加载，提前展示&lt;/li&gt;&#xA;&lt;li&gt;增强代码可读性，统一认识&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;但是这个机制其实也存在一定的缺陷，比如在进房成功的场景，如果所有的模块都同时做CPU集中型任务的话，那不可避免的会造成拥塞。所以理想来说还需要事件总线的派发器能够做好调度。&#xA;另一种场景是模块A跟模块B之间有强依赖，比如直播PK玩法的场景，就需要先让两个主播连麦，之后再进行PK。这个时候一般来说有两个办法：&#xA;一个是可以让连麦模块作为纯粹的模块，PK模块作为连麦的子模块，这样从逻辑上也合理，同时PK模块对外实现的接口也掩蔽了连麦模块，接口更清晰。&#xA;另一种则是通过某种路由协议来通信，由连麦模块跟PK模块之间做协议上的沟通。不过这样也带来了接口的复杂性，以及管理接口相关的问题。&#xA;所以在这种场景下，我们最终选择的是第一种方法。&lt;/p&gt;&#xA;&lt;h4 class=&#34;heading-element&#34; id=&#34;生命周期&#34;&gt;&lt;span&gt;生命周期&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h4&gt;&lt;p&gt;生命周期也是直播间需要考虑的问题之一，例如在用户上下滑动直播间时，我们需要对部分的UI组件或者模块做复用，来减少内存损耗，提升加载速度。这样就必须要避免重用的组件复用了上一次的状态。所以最好通过统一的生命周期事件做好处理：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://www.yingxinsong.com/image/livecenter/2.png&#39; alt=&#34;生命周期&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;把所有模块统一加载，统一销毁。&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;直播中台实践--收益&#34;&gt;&lt;span&gt;直播中台实践 &amp;ndash; 收益&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e7%9b%b4%e6%92%ad%e4%b8%ad%e5%8f%b0%e5%ae%9e%e8%b7%b5--%e6%94%b6%e7%9b%8a&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;很难说以上架构就是完美的架构，不过最终这一套架构满足了公司音视频直播的业务场景，支持了接近30个研发无障碍协同，快速迭代，接入到了公司多个前端App上。在房间模式上，通过上述架构我们快速支持了产品提出的不同直播间玩法，比如在疫情来到的2020年Club House模式爆火的时候，我们可以迅速通过这个架构搭建出一套UI完全不一样的直播间，在这一点上我还是比较满意的。于此同时，由于模块之间隔离做的不错，所以我跟团队的小伙伴们也积极探索了一些周边的优化，比如编译优化，单元测试，UI组件库，跨平台等等。&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;回顾一--我的反思与我学到了什么&#34;&gt;&lt;span&gt;回顾一 &amp;ndash; 我的反思与我学到了什么？&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e5%9b%9e%e9%a1%be%e4%b8%80--%e6%88%91%e7%9a%84%e5%8f%8d%e6%80%9d%e4%b8%8e%e6%88%91%e5%ad%a6%e5%88%b0%e4%ba%86%e4%bb%80%e4%b9%88&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;h5 class=&#34;heading-element&#34; id=&#34;胆大心细&#34;&gt;&lt;span&gt;胆大心细&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e8%83%86%e5%a4%a7%e5%bf%83%e7%bb%86&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h5&gt;&lt;p&gt;整个直播中台的搭建耗时接近一年，由于前期业务着急上线，每次大的重构都好像在给赛道上飞速跑的F1方程式赛车换轮胎一样，必须要胆大心细。但是我认为作为技术管理者，必须要有这样魄力，敢于改造，最后会发现整体的项目ROI是很高的。&lt;/p&gt;&#xA;&lt;h5 class=&#34;heading-element&#34; id=&#34;改造人的认知是很困难的&#34;&gt;&lt;span&gt;改造人的认知是很困难的&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e6%94%b9%e9%80%a0%e4%ba%ba%e7%9a%84%e8%ae%a4%e7%9f%a5%e6%98%af%e5%be%88%e5%9b%b0%e9%9a%be%e7%9a%84&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h5&gt;&lt;p&gt;统一的架构需要统一的实现方式，但是同样带来的问题确一定程度上束缚了开发人员的自主性。可以说在这个地方我像是一个代码暴君，推翻了一切不不符合中台架构的实现。在最开始组内的同学对这一套架构不够了解的时候，发动了一次次的站立会议，等于说强行统一认知，就算这样，整套架构中仍有部分代码不符合规范。所以，整个中台架构的推动可以说是非常艰难。&#xA;但是反过来说，如果没有一个这样暴君的角色，那么对应的执行者一定会执行不到位。经过这一件事，我经常在想，架构师到底是一个什么样的角色呢？&lt;/p&gt;&#xA;&lt;h5 class=&#34;heading-element&#34; id=&#34;选育用留&#34;&gt;&lt;span&gt;选育用留&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e9%80%89%e8%82%b2%e7%94%a8%e7%95%99&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h5&gt;&lt;p&gt;曾经我有过一个疑惑，每次我把一个我认为技术不错的候选人转给我当时的总监，他总要问：&amp;ldquo;这个人聪明不聪明？&amp;quot;。作为工程师来说，一个人聪明不聪明重要呢？还是懂各种技术知识更重要呢？从前的我一直都认为，后者更重要。&#xA;但是经过这个项目，我再回过头来看，我会认为一个人聪明，情商高，技术一般，远比精通各种技术，但是情商低，理解事情困难的人更好。这个事情并不是非常绝对的，但是在现代工程的领域，往往更加注重协作，而较少真正存在技术深度的研发工作。选择前者能够让项目推进的更顺利，事半功倍。&#xA;为什么得出这个结论呢？套用2021年底还流行的一句话 —— &amp;ldquo;不要问我是怎么知道的。&amp;rdquo;&lt;/p&gt;&#xA;&lt;h5 class=&#34;heading-element&#34; id=&#34;身体是革命的本钱&#34;&gt;&lt;span&gt;身体是革命的本钱&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e8%ba%ab%e4%bd%93%e6%98%af%e9%9d%a9%e5%91%bd%e7%9a%84%e6%9c%ac%e9%92%b1&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h5&gt;&lt;p&gt;回想过去两年，可以说是各种身体状况频发，也许是因为年到三十，人到中年。也许是因为项目发展太快，步子太大扯到蛋了。不管怎么说，有一个好身体才能有本钱做更多的事情，实现更多在技术上的想法。&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;最后&#34;&gt;&lt;span&gt;最后&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e6%9c%80%e5%90%8e&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;p&gt;这篇总结是我一直想写，但是总是因为某一些原因而没有写。搭建直播中台已经是大半年前的事情了，而今年年中因为部门调动，目前我已经不再负责这一块的业务，开始了新的征程。今天把这一段经历记录下来，结项，迈向新的开始。&lt;/p&gt;&#xA;</description>
    </item>
    <item>
      <title>工程师自检手册</title>
      <link>https://www.yingxinsong.com/post/hiring/</link>
      <pubDate>Thu, 30 Sep 2021 17:22:36 +0800</pubDate>
      <guid>https://www.yingxinsong.com/post/hiring/</guid>
      <description>&lt;p&gt;在这个职场中，我觉得每一个单纯的工程师都应该有一个要做与不要做的手册，每次头脑发热做事情的时候，应该拿出来自检一下。下面，就是我从很多地方吸收的&amp;quot;办公室真理&amp;quot;，当然，后面也许还会收集更多：&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;不要做&#34;&gt;&lt;span&gt;不要做&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e4%b8%8d%e8%a6%81%e5%81%9a&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;h4 class=&#34;heading-element&#34; id=&#34;1-闷头努力从不汇报&#34;&gt;&lt;span&gt;1. 闷头努力，从不汇报&lt;/span&gt;&#xA;  &lt;a href=&#34;#1-%e9%97%b7%e5%a4%b4%e5%8a%aa%e5%8a%9b%e4%bb%8e%e4%b8%8d%e6%b1%87%e6%8a%a5&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h4&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;吃力不讨好，功劳全部落入别人手里，出了问题，好吧，你来背锅&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h4 class=&#34;heading-element&#34; id=&#34;2-从不说不&#34;&gt;&lt;span&gt;2. 从不说不&lt;/span&gt;&#xA;  &lt;a href=&#34;#2-%e4%bb%8e%e4%b8%8d%e8%af%b4%e4%b8%8d&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h4&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;这个也可以做，那个也可以做，工期越拉越长，bug 越积越多&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h4 class=&#34;heading-element&#34; id=&#34;3-框架没搭就先优化&#34;&gt;&lt;span&gt;3. 框架没搭，就先优化&lt;/span&gt;&#xA;  &lt;a href=&#34;#3-%e6%a1%86%e6%9e%b6%e6%b2%a1%e6%90%ad%e5%b0%b1%e5%85%88%e4%bc%98%e5%8c%96&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h4&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;是人都会知道，一个work的版本，要比一个完美版更加重要。长点心吧，先跑通、再优化，相信我，这真是一个真理&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h4 class=&#34;heading-element&#34; id=&#34;4-抱怨一堆代码没写&#34;&gt;&lt;span&gt;4. 抱怨一堆，代码没写&lt;/span&gt;&#xA;  &lt;a href=&#34;#4-%e6%8a%b1%e6%80%a8%e4%b8%80%e5%a0%86%e4%bb%a3%e7%a0%81%e6%b2%a1%e5%86%99&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h4&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;总有人觉得产品需求这不合理，那不合理。老板觉得合理，你觉得有问题，你算老几？&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h4 class=&#34;heading-element&#34; id=&#34;5-相信框架相信银弹&#34;&gt;&lt;span&gt;5. 相信框架，相信银弹&lt;/span&gt;&#xA;  &lt;a href=&#34;#5-%e7%9b%b8%e4%bf%a1%e6%a1%86%e6%9e%b6%e7%9b%b8%e4%bf%a1%e9%93%b6%e5%bc%b9&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h4&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;引入这个框架就能解决A问题，接入那个组件可以解决B问题。结果呢？头痛医头，脚痛医脚！&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h4 class=&#34;heading-element&#34; id=&#34;6-眼高手低像个菜鸡&#34;&gt;&lt;span&gt;6. 眼高手低，像个菜鸡&lt;/span&gt;&#xA;  &lt;a href=&#34;#6-%e7%9c%bc%e9%ab%98%e6%89%8b%e4%bd%8e%e5%83%8f%e4%b8%aa%e8%8f%9c%e9%b8%a1&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h4&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;技术需求就牛逼？业务需求就垃圾？你也就会CURD！&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;要做&#34;&gt;&lt;span&gt;要做&lt;/span&gt;&#xA;  &lt;a href=&#34;#%e8%a6%81%e5%81%9a&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h3&gt;&lt;h4 class=&#34;heading-element&#34; id=&#34;1-勤写总结多发邮件&#34;&gt;&lt;span&gt;1. 勤写总结，多发邮件&lt;/span&gt;&#xA;  &lt;a href=&#34;#1-%e5%8b%a4%e5%86%99%e6%80%bb%e7%bb%93%e5%a4%9a%e5%8f%91%e9%82%ae%e4%bb%b6&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h4&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;就要这么干！怒刷存在感！&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h4 class=&#34;heading-element&#34; id=&#34;2-开会必到使命必达&#34;&gt;&lt;span&gt;2. 开会必到，使命必达&lt;/span&gt;&#xA;  &lt;a href=&#34;#2-%e5%bc%80%e4%bc%9a%e5%bf%85%e5%88%b0%e4%bd%bf%e5%91%bd%e5%bf%85%e8%be%be&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h4&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;开会没有你，那就开不下去。问题没有你，那就没有底。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h4 class=&#34;heading-element&#34; id=&#34;3-凌晨3点定位问题&#34;&gt;&lt;span&gt;3. 凌晨3点，定位问题&lt;/span&gt;&#xA;  &lt;a href=&#34;#3-%e5%87%8c%e6%99%a83%e7%82%b9%e5%ae%9a%e4%bd%8d%e9%97%ae%e9%a2%98&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h4&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;睡觉那是给死人的&#xA;00：30：&amp;ldquo;这个怎么刷不出来了?&amp;rdquo;&#xA;00：30：&amp;ldquo;收到，我立马看看！&amp;rdquo;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h4 class=&#34;heading-element&#34; id=&#34;4-干活之前先提问题&#34;&gt;&lt;span&gt;4. 干活之前，先提问题&lt;/span&gt;&#xA;  &lt;a href=&#34;#4-%e5%b9%b2%e6%b4%bb%e4%b9%8b%e5%89%8d%e5%85%88%e6%8f%90%e9%97%ae%e9%a2%98&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h4&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;确认问题的归属非常重要&#xA;&amp;ldquo;这个怎么刷不出来？客户端看看？&amp;rdquo;&#xA;&amp;ldquo;安卓iOS都刷不出来，服务端看看？&amp;rdquo;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h4 class=&#34;heading-element&#34; id=&#34;5-同步进度保留证据&#34;&gt;&lt;span&gt;5. 同步进度，保留证据&lt;/span&gt;&#xA;  &lt;a href=&#34;#5-%e5%90%8c%e6%ad%a5%e8%bf%9b%e5%ba%a6%e4%bf%9d%e7%95%99%e8%af%81%e6%8d%ae&#34; class=&#34;heading-mark&#34;&gt;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xA;  &lt;/a&gt;&#xA;&lt;/h4&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;因为我的问题延期了？不存在的，10天以前就同步了，当时你也同意了！&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;</description>
    </item>
  </channel>
</rss>
